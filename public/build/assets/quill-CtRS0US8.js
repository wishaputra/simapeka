var Qe=Object.defineProperty;var Ye=(Qt,Yt,qe)=>Yt in Qt?Qe(Qt,Yt,{enumerable:!0,configurable:!0,writable:!0,value:qe}):Qt[Yt]=qe;var ft=(Qt,Yt,qe)=>Ye(Qt,typeof Yt!="symbol"?Yt+"":Yt,qe);import{g as Je,c as Pe}from"./_commonjsHelpers-BosuxZz1.js";var ze={exports:{}};/*! For license information please see quill.js.LICENSE.txt */ze.exports;(function(Qt,Yt){(function(qe,Ce){Qt.exports=Ce()})(self,function(){return function(){var qe={9698:function(G,C,e){e.d(C,{Ay:function(){return k},Ji:function(){return O},mG:function(){return A},zo:function(){return a}});var d=e(6003),q=e(5232),S=e.n(q),v=e(3036),M=e(4850),f=e(5508);class k extends d.BlockBlot{constructor(){super(...arguments);ft(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=A(this)),this.cache.delta}deleteAt(L,_){super.deleteAt(L,_),this.cache={}}formatAt(L,_,z,Y){_<=0||(this.scroll.query(z,d.Scope.BLOCK)?L+_===this.length()&&this.format(z,Y):super.formatAt(L,Math.min(_,this.length()-L-1),z,Y),this.cache={})}insertAt(L,_,z){if(z!=null)return super.insertAt(L,_,z),void(this.cache={});if(_.length===0)return;const Y=_.split(`
`),st=Y.shift();st.length>0&&(L<this.length()-1||this.children.tail==null?super.insertAt(Math.min(L,this.length()-1),st):this.children.tail.insertAt(this.children.tail.length(),st),this.cache={});let K=this;Y.reduce((p,j)=>(K=K.split(p,!0),K.insertAt(0,j),j.length),L+st.length)}insertBefore(L,_){const{head:z}=this.children;super.insertBefore(L,_),z instanceof v.A&&z.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+1),this.cache.length}moveChildren(L,_){super.moveChildren(L,_),this.cache={}}optimize(L){super.optimize(L),this.cache={}}path(L){return super.path(L,!0)}removeChild(L){super.removeChild(L),this.cache={}}split(L){let _=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(_&&(L===0||L>=this.length()-1)){const Y=this.clone();return L===0?(this.parent.insertBefore(Y,this),this):(this.parent.insertBefore(Y,this.next),Y)}const z=super.split(L,_);return this.cache={},z}}k.blotName="block",k.tagName="P",k.defaultChild=v.A,k.allowedChildren=[v.A,M.A,d.EmbedBlot,f.A];class a extends d.EmbedBlot{attach(){super.attach(),this.attributes=new d.AttributorStore(this.domNode)}delta(){return new(S())().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(w,L){const _=this.scroll.query(w,d.Scope.BLOCK_ATTRIBUTE);_!=null&&this.attributes.attribute(_,L)}formatAt(w,L,_,z){this.format(_,z)}insertAt(w,L,_){if(_!=null)return void super.insertAt(w,L,_);const z=L.split(`
`),Y=z.pop(),st=z.map(p=>{const j=this.scroll.create(k.blotName);return j.insertAt(0,p),j}),K=this.split(w);st.forEach(p=>{this.parent.insertBefore(p,K)}),Y&&this.parent.insertBefore(this.scroll.create("text",Y),K)}}function A(h){let w=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return h.descendants(d.LeafBlot).reduce((L,_)=>_.length()===0?L:L.insert(_.value(),O(_,{},w)),new(S())).insert(`
`,O(h))}function O(h){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},L=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return h==null?w:("formats"in h&&typeof h.formats=="function"&&(w={...w,...h.formats()},L&&delete w["code-token"]),h.parent==null||h.parent.statics.blotName==="scroll"||h.parent.statics.scope!==h.statics.scope?w:O(h.parent,w,L))}a.scope=d.Scope.BLOCK_BLOT},3036:function(G,C,e){var d=e(6003);class q extends d.EmbedBlot{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}q.blotName="break",q.tagName="BR",C.A=q},580:function(G,C,e){var d=e(6003);class q extends d.ContainerBlot{}C.A=q},4541:function(G,C,e){var d=e(6003),q=e(5508);const v=class v extends d.EmbedBlot{static value(){}constructor(f,k,a){super(f,k),this.selection=a,this.textNode=document.createTextNode(v.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(f,k){if(this.savedLength!==0)return void super.format(f,k);let a=this,A=0;for(;a!=null&&a.statics.scope!==d.Scope.BLOCK_BLOT;)A+=a.offset(a.parent),a=a.parent;a!=null&&(this.savedLength=v.CONTENTS.length,a.optimize(),a.formatAt(A,v.CONTENTS.length,f,k),this.savedLength=0)}index(f,k){return f===this.textNode?0:super.index(f,k)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const f=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const k=this.prev instanceof q.A?this.prev:null,a=k?k.length():0,A=this.next instanceof q.A?this.next:null,O=A?A.text:"",{textNode:h}=this,w=h.data.split(v.CONTENTS).join("");let L;if(h.data=v.CONTENTS,k)L=k,(w||A)&&(k.insertAt(k.length(),w+O),A&&A.remove());else if(A)L=A,A.insertAt(0,w);else{const _=document.createTextNode(w);L=this.scroll.create(_),this.parent.insertBefore(L,this)}if(this.remove(),f){const _=(st,K)=>k&&st===k.domNode?K:st===h?a+K-1:A&&st===A.domNode?a+w.length+K:null,z=_(f.start.node,f.start.offset),Y=_(f.end.node,f.end.offset);if(z!==null&&Y!==null)return{startNode:L.domNode,startOffset:z,endNode:L.domNode,endOffset:Y}}return null}update(f,k){if(f.some(a=>a.type==="characterData"&&a.target===this.textNode)){const a=this.restore();a&&(k.range=a)}}optimize(f){super.optimize(f);let{parent:k}=this;for(;k;){if(k.domNode.tagName==="A"){this.savedLength=v.CONTENTS.length,k.isolate(this.offset(k),this.length()).unwrap(),this.savedLength=0;break}k=k.parent}}value(){return""}};ft(v,"blotName","cursor"),ft(v,"className","ql-cursor"),ft(v,"tagName","span"),ft(v,"CONTENTS","\uFEFF");let S=v;C.A=S},746:function(G,C,e){var d=e(6003),q=e(5508);const S="\uFEFF";class v extends d.EmbedBlot{constructor(f,k){super(f,k),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(a=>{this.contentNode.appendChild(a)}),this.leftGuard=document.createTextNode(S),this.rightGuard=document.createTextNode(S),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(f,k){return f===this.leftGuard?0:f===this.rightGuard?1:super.index(f,k)}restore(f){let k,a=null;const A=f.data.split(S).join("");if(f===this.leftGuard)if(this.prev instanceof q.A){const O=this.prev.length();this.prev.insertAt(O,A),a={startNode:this.prev.domNode,startOffset:O+A.length}}else k=document.createTextNode(A),this.parent.insertBefore(this.scroll.create(k),this),a={startNode:k,startOffset:A.length};else f===this.rightGuard&&(this.next instanceof q.A?(this.next.insertAt(0,A),a={startNode:this.next.domNode,startOffset:A.length}):(k=document.createTextNode(A),this.parent.insertBefore(this.scroll.create(k),this.next),a={startNode:k,startOffset:A.length}));return f.data=S,a}update(f,k){f.forEach(a=>{if(a.type==="characterData"&&(a.target===this.leftGuard||a.target===this.rightGuard)){const A=this.restore(a.target);A&&(k.range=A)}})}}C.A=v},4850:function(G,C,e){var d=e(6003),q=e(3036),S=e(5508);const M=class M extends d.InlineBlot{static compare(k,a){const A=M.order.indexOf(k),O=M.order.indexOf(a);return A>=0||O>=0?A-O:k===a?0:k<a?-1:1}formatAt(k,a,A,O){if(M.compare(this.statics.blotName,A)<0&&this.scroll.query(A,d.Scope.BLOT)){const h=this.isolate(k,a);O&&h.wrap(A,O)}else super.formatAt(k,a,A,O)}optimize(k){if(super.optimize(k),this.parent instanceof M&&M.compare(this.statics.blotName,this.parent.statics.blotName)>0){const a=this.parent.isolate(this.offset(),this.length());this.moveChildren(a),a.wrap(this)}}};ft(M,"allowedChildren",[M,q.A,d.EmbedBlot,S.A]),ft(M,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let v=M;C.A=v},5508:function(G,C,e){e.d(C,{A:function(){return q},X:function(){return S}});var d=e(6003);class q extends d.TextBlot{}function S(v){return v.replace(/[&<>"']/g,M=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[M])}},3729:function(G,C,e){e.d(C,{default:function(){return t}});var d=e(6142),q=e(9698),S=e(3036),v=e(580),M=e(4541),f=e(746),k=e(4850),a=e(6003),A=e(5232),O=e.n(A),h=e(5374);function w(n){return n instanceof q.Ay||n instanceof q.zo}function L(n){return typeof n.updateContent=="function"}class _ extends a.ScrollBlot{constructor(s,x,l){let{emitter:u}=l;super(s,x),this.emitter=u,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",N=>this.handleDragStart(N))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const s=this.batch;this.batch=!1,this.update(s)}emitMount(s){this.emitter.emit(h.A.events.SCROLL_BLOT_MOUNT,s)}emitUnmount(s){this.emitter.emit(h.A.events.SCROLL_BLOT_UNMOUNT,s)}emitEmbedUpdate(s,x){this.emitter.emit(h.A.events.SCROLL_EMBED_UPDATE,s,x)}deleteAt(s,x){const[l,u]=this.line(s),[N]=this.line(s+x);if(super.deleteAt(s,x),N!=null&&l!==N&&u>0){if(l instanceof q.zo||N instanceof q.zo)return void this.optimize();const T=N.children.head instanceof S.A?null:N.children.head;l.moveChildren(N,T),l.remove()}this.optimize()}enable(){let s=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.domNode.setAttribute("contenteditable",s?"true":"false")}formatAt(s,x,l,u){super.formatAt(s,x,l,u),this.optimize()}insertAt(s,x,l){if(s>=this.length())if(l==null||this.scroll.query(x,a.Scope.BLOCK)==null){const u=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(u),l==null&&x.endsWith(`
`)?u.insertAt(0,x.slice(0,-1),l):u.insertAt(0,x,l)}else{const u=this.scroll.create(x,l);this.appendChild(u)}else super.insertAt(s,x,l);this.optimize()}insertBefore(s,x){if(s.statics.scope===a.Scope.INLINE_BLOT){const l=this.scroll.create(this.statics.defaultChild.blotName);l.appendChild(s),super.insertBefore(l,x)}else super.insertBefore(s,x)}insertContents(s,x){const l=this.deltaToRenderBlocks(x.concat(new(O())().insert(`
`))),u=l.pop();if(u==null)return;this.batchStart();const N=l.shift();if(N){const m=N.type==="block"&&(N.delta.length()===0||!this.descendant(q.zo,s)[0]&&s<this.length()),r=N.type==="block"?N.delta:new(O())().insert({[N.key]:N.value});z(this,s,r);const o=N.type==="block"?1:0,E=s+r.length()+o;m&&this.insertAt(E-1,`
`);const b=(0,q.Ji)(this.line(s)[0]),R=A.AttributeMap.diff(b,N.attributes)||{};Object.keys(R).forEach(F=>{this.formatAt(E-1,1,F,R[F])}),s=E}let[T,U]=this.children.find(s);l.length&&(T&&(T=T.split(U),U=0),l.forEach(m=>{if(m.type==="block")z(this.createBlock(m.attributes,T||void 0),0,m.delta);else{const r=this.create(m.key,m.value);this.insertBefore(r,T||void 0),Object.keys(m.attributes).forEach(o=>{r.format(o,m.attributes[o])})}})),u.type==="block"&&u.delta.length()&&z(this,T?T.offset(T.scroll)+U:this.length(),u.delta),this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(s){const x=this.path(s).pop();if(!x)return[null,-1];const[l,u]=x;return l instanceof a.LeafBlot?[l,u]:[null,-1]}line(s){return s===this.length()?this.line(s-1):this.descendant(w,s)}lines(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const l=(u,N,T)=>{let U=[],m=T;return u.children.forEachAt(N,T,(r,o,E)=>{w(r)?U.push(r):r instanceof a.ContainerBlot&&(U=U.concat(l(r,o,m))),m-=E}),U};return l(this,s,x)}optimize(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(s,x),s.length>0&&this.emitter.emit(h.A.events.SCROLL_OPTIMIZE,s,x))}path(s){return super.path(s).slice(1)}remove(){}update(s){if(this.batch)return void(Array.isArray(s)&&(this.batch=this.batch.concat(s)));let x=h.A.sources.USER;typeof s=="string"&&(x=s),Array.isArray(s)||(s=this.observer.takeRecords()),(s=s.filter(l=>{let{target:u}=l;const N=this.find(u,!0);return N&&!L(N)})).length>0&&this.emitter.emit(h.A.events.SCROLL_BEFORE_UPDATE,x,s),super.update(s.concat([])),s.length>0&&this.emitter.emit(h.A.events.SCROLL_UPDATE,x,s)}updateEmbedAt(s,x,l){const[u]=this.descendant(N=>N instanceof q.zo,s);u&&u.statics.blotName===x&&L(u)&&u.updateContent(l)}handleDragStart(s){s.preventDefault()}deltaToRenderBlocks(s){const x=[];let l=new(O());return s.forEach(u=>{const N=u==null?void 0:u.insert;if(N)if(typeof N=="string"){const T=N.split(`
`);T.slice(0,-1).forEach(m=>{l.insert(m,u.attributes),x.push({type:"block",delta:l,attributes:u.attributes??{}}),l=new(O())});const U=T[T.length-1];U&&l.insert(U,u.attributes)}else{const T=Object.keys(N)[0];if(!T)return;this.query(T,a.Scope.INLINE)?l.push(u):(l.length()&&x.push({type:"block",delta:l,attributes:{}}),l=new(O()),x.push({type:"blockEmbed",key:T,value:N[T],attributes:u.attributes??{}}))}}),l.length()&&x.push({type:"block",delta:l,attributes:{}}),x}createBlock(s,x){let l;const u={};Object.entries(s).forEach(U=>{let[m,r]=U;this.query(m,a.Scope.BLOCK&a.Scope.BLOT)!=null?l=m:u[m]=r});const N=this.create(l||this.statics.defaultChild.blotName,l?s[l]:void 0);this.insertBefore(N,x||void 0);const T=N.length();return Object.entries(u).forEach(U=>{let[m,r]=U;N.formatAt(0,T,m,r)}),N}}ft(_,"blotName","scroll"),ft(_,"className","ql-editor"),ft(_,"tagName","DIV"),ft(_,"defaultChild",q.Ay),ft(_,"allowedChildren",[q.Ay,q.zo,v.A]);function z(n,s,x){x.reduce((l,u)=>{const N=A.Op.length(u);let T=u.attributes||{};if(u.insert!=null){if(typeof u.insert=="string"){const U=u.insert;n.insertAt(l,U);const[m]=n.descendant(a.LeafBlot,l),r=(0,q.Ji)(m);T=A.AttributeMap.diff(r,T)||{}}else if(typeof u.insert=="object"){const U=Object.keys(u.insert)[0];if(U==null)return l;if(n.insertAt(l,U,u.insert[U]),n.scroll.query(U,a.Scope.INLINE)!=null){const[m]=n.descendant(a.LeafBlot,l),r=(0,q.Ji)(m);T=A.AttributeMap.diff(r,T)||{}}}}return Object.keys(T).forEach(U=>{n.formatAt(l,N,U,T[U])}),l+N},s)}var Y=_,st=e(5508),K=e(584),p=e(4266);class j extends p.A{constructor(x,l){super(x,l);ft(this,"lastRecorded",0);ft(this,"ignoreChange",!1);ft(this,"stack",{undo:[],redo:[]});ft(this,"currentRange",null);this.quill.on(d.Ay.events.EDITOR_CHANGE,(u,N,T,U)=>{u===d.Ay.events.SELECTION_CHANGE?N&&U!==d.Ay.sources.SILENT&&(this.currentRange=N):u===d.Ay.events.TEXT_CHANGE&&(this.ignoreChange||(this.options.userOnly&&U!==d.Ay.sources.USER?this.transform(N):this.record(N,T)),this.currentRange=B(this.currentRange,N))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",u=>{u.inputType==="historyUndo"?(this.undo(),u.preventDefault()):u.inputType==="historyRedo"&&(this.redo(),u.preventDefault())})}change(x,l){if(this.stack[x].length===0)return;const u=this.stack[x].pop();if(!u)return;const N=this.quill.getContents(),T=u.delta.invert(N);this.stack[l].push({delta:T,range:B(u.range,T)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(u.delta,d.Ay.sources.USER),this.ignoreChange=!1,this.restoreSelection(u)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(x,l){if(x.ops.length===0)return;this.stack.redo=[];let u=x.invert(l),N=this.currentRange;const T=Date.now();if(this.lastRecorded+this.options.delay>T&&this.stack.undo.length>0){const U=this.stack.undo.pop();U&&(u=u.compose(U.delta),N=U.range)}else this.lastRecorded=T;u.length()!==0&&(this.stack.undo.push({delta:u,range:N}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(x){W(this.stack.undo,x),W(this.stack.redo,x)}undo(){this.change("undo","redo")}restoreSelection(x){if(x.range)this.quill.setSelection(x.range,d.Ay.sources.USER);else{const l=function(u,N){const T=N.reduce((m,r)=>m+(r.delete||0),0);let U=N.length()-T;return function(m,r){const o=r.ops[r.ops.length-1];return o!=null&&(o.insert!=null?typeof o.insert=="string"&&o.insert.endsWith(`
`):o.attributes!=null&&Object.keys(o.attributes).some(E=>m.query(E,a.Scope.BLOCK)!=null))}(u,N)&&(U-=1),U}(this.quill.scroll,x.delta);this.quill.setSelection(l,d.Ay.sources.USER)}}}ft(j,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function W(n,s){let x=s;for(let l=n.length-1;l>=0;l-=1){const u=n[l];n[l]={delta:x.transform(u.delta,!0),range:u.range&&B(u.range,x)},x=u.delta.transform(x),n[l].delta.length()===0&&n.splice(l,1)}}function B(n,s){if(!n)return n;const x=s.transformPosition(n.index);return{index:x,length:s.transformPosition(n.index+n.length)-x}}var Z=e(8123);class it extends p.A{constructor(s,x){super(s,x),s.root.addEventListener("drop",l=>{var T;l.preventDefault();let u=null;if(document.caretRangeFromPoint)u=document.caretRangeFromPoint(l.clientX,l.clientY);else if(document.caretPositionFromPoint){const U=document.caretPositionFromPoint(l.clientX,l.clientY);u=document.createRange(),u.setStart(U.offsetNode,U.offset),u.setEnd(U.offsetNode,U.offset)}const N=u&&s.selection.normalizeNative(u);if(N){const U=s.selection.normalizedToRange(N);(T=l.dataTransfer)!=null&&T.files&&this.upload(U,l.dataTransfer.files)}})}upload(s,x){const l=[];Array.from(x).forEach(u=>{var N;u&&((N=this.options.mimetypes)!=null&&N.includes(u.type))&&l.push(u)}),l.length>0&&this.options.handler.call(this,s,l)}}it.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(n,s){if(!this.quill.scroll.query("image"))return;const x=s.map(l=>new Promise(u=>{const N=new FileReader;N.onload=()=>{u(N.result)},N.readAsDataURL(l)}));Promise.all(x).then(l=>{const u=l.reduce((N,T)=>N.insert({image:T}),new(O())().retain(n.index).delete(n.length));this.quill.updateContents(u,h.A.sources.USER),this.quill.setSelection(n.index+l.length,h.A.sources.SILENT)})}};var ot=it;const ht=["insertText","insertReplacementText"];class gt extends p.A{constructor(s,x){super(s,x),s.root.addEventListener("beforeinput",l=>{this.handleBeforeInput(l)}),/Android/i.test(navigator.userAgent)||s.on(d.Ay.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(s){(0,Z.Xo)({range:s,quill:this.quill})}replaceText(s){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(s.length===0)return!1;if(x){const l=this.quill.getFormat(s.index,1);this.deleteRange(s),this.quill.updateContents(new(O())().retain(s.index).insert(x,l),d.Ay.sources.USER)}else this.deleteRange(s);return this.quill.setSelection(s.index+x.length,0,d.Ay.sources.SILENT),!0}handleBeforeInput(s){if(this.quill.composition.isComposing||s.defaultPrevented||!ht.includes(s.inputType))return;const x=s.getTargetRanges?s.getTargetRanges()[0]:null;if(!x||x.collapsed===!0)return;const l=function(T){var U;return typeof T.data=="string"?T.data:(U=T.dataTransfer)!=null&&U.types.includes("text/plain")?T.dataTransfer.getData("text/plain"):null}(s);if(l==null)return;const u=this.quill.selection.normalizeNative(x),N=u?this.quill.selection.normalizedToRange(u):null;N&&this.replaceText(N,l)&&s.preventDefault()}handleCompositionStart(){const s=this.quill.getSelection();s&&this.replaceText(s)}}var tt=gt;const X=/Mac/i.test(navigator.platform);class lt extends p.A{constructor(x,l){super(x,l);ft(this,"isListening",!1);ft(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(x,l){let{line:u,event:N}=l;if(!(u instanceof a.ParentBlot&&u.uiNode))return!0;const T=getComputedStyle(u.domNode).direction==="rtl";return!!(T&&N.key!=="ArrowRight"||!T&&N.key!=="ArrowLeft")||(this.quill.setSelection(x.index-1,x.length+(N.shiftKey?1:0),d.Ay.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",x=>{!x.defaultPrevented&&(l=>l.key==="ArrowLeft"||l.key==="ArrowRight"||l.key==="ArrowUp"||l.key==="ArrowDown"||l.key==="Home"||!(!X||l.key!=="a"||l.ctrlKey!==!0))(x)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){this.selectionChangeDeadline=Date.now()+100,this.isListening||(this.isListening=!0,document.addEventListener("selectionchange",()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()},{once:!0}))}handleSelectionChange(){const x=document.getSelection();if(!x)return;const l=x.getRangeAt(0);if(l.collapsed!==!0||l.startOffset!==0)return;const u=this.quill.scroll.find(l.startContainer);if(!(u instanceof a.ParentBlot&&u.uiNode))return;const N=document.createRange();N.setStartAfter(u.uiNode),N.setEndAfter(u.uiNode),x.removeAllRanges(),x.addRange(N)}}var y=lt;d.Ay.register({"blots/block":q.Ay,"blots/block/embed":q.zo,"blots/break":S.A,"blots/container":v.A,"blots/cursor":M.A,"blots/embed":f.A,"blots/inline":k.A,"blots/scroll":Y,"blots/text":st.A,"modules/clipboard":K.Ay,"modules/history":j,"modules/keyboard":Z.Ay,"modules/uploader":ot,"modules/input":tt,"modules/uiNode":y});var t=d.Ay},5374:function(G,C,e){var M;e.d(C,{A:function(){return v}});var d=e(8920),q=e(7356);const S=(0,e(6078).A)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(f=>{document.addEventListener(f,function(){for(var k=arguments.length,a=new Array(k),A=0;A<k;A++)a[A]=arguments[A];Array.from(document.querySelectorAll(".ql-container")).forEach(O=>{const h=q.A.get(O);h&&h.emitter&&h.emitter.handleDOM(...a)})})});var v=(M=class extends d{constructor(){super(),this.domListeners={},this.on("error",S.error)}emit(){for(var f=arguments.length,k=new Array(f),a=0;a<f;a++)k[a]=arguments[a];return S.log.call(S,...k),super.emit(...k)}handleDOM(f){for(var k=arguments.length,a=new Array(k>1?k-1:0),A=1;A<k;A++)a[A-1]=arguments[A];(this.domListeners[f.type]||[]).forEach(O=>{let{node:h,handler:w}=O;(f.target===h||h.contains(f.target))&&w(f,...a)})}listenDOM(f,k,a){this.domListeners[f]||(this.domListeners[f]=[]),this.domListeners[f].push({node:k,handler:a})}},ft(M,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),ft(M,"sources",{API:"api",SILENT:"silent",USER:"user"}),M)},7356:function(G,C){C.A=new WeakMap},6078:function(G,C){const e=["error","warn","log","info"];let d="warn";function q(v){if(d&&e.indexOf(v)<=e.indexOf(d)){for(var M=arguments.length,f=new Array(M>1?M-1:0),k=1;k<M;k++)f[k-1]=arguments[k];console[v](...f)}}function S(v){return e.reduce((M,f)=>(M[f]=q.bind(console,f,v),M),{})}S.level=v=>{d=v},q.level=S.level,C.A=S},4266:function(G,C){var e;C.A=(e=class{constructor(d){let q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=d,this.options=q}},ft(e,"DEFAULTS",{}),e)},6142:function(G,C,e){e.d(C,{Ay:function(){return n}});var d=e(8347),q=e(6003),S=e(5232),v=e.n(S),M=e(3707),f=e(5123),k=e(9698),a=e(3036),A=e(4541),O=e(5508),h=e(8298);const w=/^[ -~]*$/;function L(m,r,o){if(m.length===0){const[dt]=Y(o.pop());return r<=0?`</li></${dt}>`:`</li></${dt}>${L([],r-1,o)}`}const[{child:E,offset:b,length:R,indent:F,type:H},...et]=m,[J,nt]=Y(H);if(F>r)return o.push(H),F===r+1?`<${J}><li${nt}>${_(E,b,R)}${L(et,F,o)}`:`<${J}><li>${L(m,r+1,o)}`;const at=o[o.length-1];if(F===r&&H===at)return`</li><li${nt}>${_(E,b,R)}${L(et,F,o)}`;const[ut]=Y(o.pop());return`</li></${ut}>${L(m,r-1,o)}`}function _(m,r,o){let E=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if("html"in m&&typeof m.html=="function")return m.html(r,o);if(m instanceof O.A)return(0,O.X)(m.value().slice(r,r+o));if(m instanceof q.ParentBlot){if(m.statics.blotName==="list-container"){const J=[];return m.children.forEachAt(r,o,(nt,at,ut)=>{const dt="formats"in nt&&typeof nt.formats=="function"?nt.formats():{};J.push({child:nt,offset:at,length:ut,indent:dt.indent||0,type:dt.list})}),L(J,-1,[])}const b=[];if(m.children.forEachAt(r,o,(J,nt,at)=>{b.push(_(J,nt,at))}),E||m.statics.blotName==="list")return b.join("");const{outerHTML:R,innerHTML:F}=m.domNode,[H,et]=R.split(`>${F}<`);return H==="<table"?`<table style="border: 1px solid #000;">${b.join("")}<${et}`:`${H}>${b.join("")}<${et}`}return m.domNode instanceof Element?m.domNode.outerHTML:""}function z(m,r){return Object.keys(r).reduce((o,E)=>{if(m[E]==null)return o;const b=r[E];return b===m[E]?o[E]=b:Array.isArray(b)?b.indexOf(m[E])<0?o[E]=b.concat([m[E]]):o[E]=b:o[E]=[b,m[E]],o},{})}function Y(m){const r=m==="ordered"?"ol":"ul";switch(m){case"checked":return[r,' data-list="checked"'];case"unchecked":return[r,' data-list="unchecked"'];default:return[r,""]}}function st(m){return m.reduce((r,o)=>{if(typeof o.insert=="string"){const E=o.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return r.insert(E,o.attributes)}return r.push(o)},new(v()))}function K(m,r){let{index:o,length:E}=m;return new h.Q(o+r,E)}var p=class{constructor(m){this.scroll=m,this.delta=this.getDelta()}applyDelta(m){this.scroll.update();let r=this.scroll.length();this.scroll.batchStart();const o=st(m),E=new(v());return function(b){const R=[];return b.forEach(F=>{typeof F.insert=="string"?F.insert.split(`
`).forEach((H,et)=>{et&&R.push({insert:`
`,attributes:F.attributes}),H&&R.push({insert:H,attributes:F.attributes})}):R.push(F)}),R}(o.ops.slice()).reduce((b,R)=>{const F=S.Op.length(R);let H=R.attributes||{},et=!1,J=!1;if(R.insert!=null){if(E.retain(F),typeof R.insert=="string"){const ut=R.insert;J=!ut.endsWith(`
`)&&(r<=b||!!this.scroll.descendant(k.zo,b)[0]),this.scroll.insertAt(b,ut);const[dt,pt]=this.scroll.line(b);let xt=(0,d.A)({},(0,k.Ji)(dt));if(dt instanceof k.Ay){const[Lt]=dt.descendant(q.LeafBlot,pt);Lt&&(xt=(0,d.A)(xt,(0,k.Ji)(Lt)))}H=S.AttributeMap.diff(xt,H)||{}}else if(typeof R.insert=="object"){const ut=Object.keys(R.insert)[0];if(ut==null)return b;const dt=this.scroll.query(ut,q.Scope.INLINE)!=null;if(dt)(r<=b||this.scroll.descendant(k.zo,b)[0])&&(J=!0);else if(b>0){const[pt,xt]=this.scroll.descendant(q.LeafBlot,b-1);pt instanceof O.A?pt.value()[xt]!==`
`&&(et=!0):pt instanceof q.EmbedBlot&&pt.statics.scope===q.Scope.INLINE_BLOT&&(et=!0)}if(this.scroll.insertAt(b,ut,R.insert[ut]),dt){const[pt]=this.scroll.descendant(q.LeafBlot,b);if(pt){const xt=(0,d.A)({},(0,k.Ji)(pt));H=S.AttributeMap.diff(xt,H)||{}}}}r+=F}else if(E.push(R),R.retain!==null&&typeof R.retain=="object"){const ut=Object.keys(R.retain)[0];if(ut==null)return b;this.scroll.updateEmbedAt(b,ut,R.retain[ut])}Object.keys(H).forEach(ut=>{this.scroll.formatAt(b,F,ut,H[ut])});const nt=et?1:0,at=J?1:0;return r+=nt+at,E.retain(nt),E.delete(at),b+F+nt+at},0),E.reduce((b,R)=>typeof R.delete=="number"?(this.scroll.deleteAt(b,R.delete),b):b+S.Op.length(R),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(o)}deleteText(m,r){return this.scroll.deleteAt(m,r),this.update(new(v())().retain(m).delete(r))}formatLine(m,r){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(o).forEach(b=>{this.scroll.lines(m,Math.max(r,1)).forEach(R=>{R.format(b,o[b])})}),this.scroll.optimize();const E=new(v())().retain(m).retain(r,(0,M.A)(o));return this.update(E)}formatText(m,r){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(o).forEach(b=>{this.scroll.formatAt(m,r,b,o[b])});const E=new(v())().retain(m).retain(r,(0,M.A)(o));return this.update(E)}getContents(m,r){return this.delta.slice(m,m+r)}getDelta(){return this.scroll.lines().reduce((m,r)=>m.concat(r.delta()),new(v()))}getFormat(m){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=[],E=[];r===0?this.scroll.path(m).forEach(F=>{const[H]=F;H instanceof k.Ay?o.push(H):H instanceof q.LeafBlot&&E.push(H)}):(o=this.scroll.lines(m,r),E=this.scroll.descendants(q.LeafBlot,m,r));const[b,R]=[o,E].map(F=>{const H=F.shift();if(H==null)return{};let et=(0,k.Ji)(H);for(;Object.keys(et).length>0;){const J=F.shift();if(J==null)return et;et=z((0,k.Ji)(J),et)}return et});return{...b,...R}}getHTML(m,r){const[o,E]=this.scroll.line(m);if(o){const b=o.length();return o.length()>=E+r&&(E!==0||r!==b)?_(o,E,r,!0):_(this.scroll,m,r,!0)}return""}getText(m,r){return this.getContents(m,r).filter(o=>typeof o.insert=="string").map(o=>o.insert).join("")}insertContents(m,r){const o=st(r),E=new(v())().retain(m).concat(o);return this.scroll.insertContents(m,o),this.update(E)}insertEmbed(m,r,o){return this.scroll.insertAt(m,r,o),this.update(new(v())().retain(m).insert({[r]:o}))}insertText(m,r){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return r=r.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(m,r),Object.keys(o).forEach(E=>{this.scroll.formatAt(m,r.length,E,o[E])}),this.update(new(v())().retain(m).insert(r,(0,M.A)(o)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const m=this.scroll.children.head;if((m==null?void 0:m.statics.blotName)!==k.Ay.blotName)return!1;const r=m;return!(r.children.length>1)&&r.children.head instanceof a.A}removeFormat(m,r){const o=this.getText(m,r),[E,b]=this.scroll.line(m+r);let R=0,F=new(v());E!=null&&(R=E.length()-b,F=E.delta().slice(b,b+R-1).insert(`
`));const H=this.getContents(m,r+R).diff(new(v())().insert(o).concat(F)),et=new(v())().retain(m).concat(H);return this.applyDelta(et)}update(m){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const E=this.delta;if(r.length===1&&r[0].type==="characterData"&&r[0].target.data.match(w)&&this.scroll.find(r[0].target)){const b=this.scroll.find(r[0].target),R=(0,k.Ji)(b),F=b.offset(this.scroll),H=r[0].oldValue.replace(A.A.CONTENTS,""),et=new(v())().insert(H),J=new(v())().insert(b.value()),nt=o&&{oldRange:K(o.oldRange,-F),newRange:K(o.newRange,-F)};m=new(v())().retain(F).concat(et.diff(J,nt)).reduce((at,ut)=>ut.insert?at.insert(ut.insert,R):at.push(ut),new(v())),this.delta=E.compose(m)}else this.delta=this.getDelta(),m&&(0,f.A)(E.compose(m),this.delta)||(m=E.diff(this.delta,o));return m}},j=e(5374),W=e(7356),B=e(6078),Z=e(4266),it=e(746),ot=class{constructor(m,r){ft(this,"isComposing",!1);this.scroll=m,this.emitter=r,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",m=>{this.isComposing||this.handleCompositionStart(m)}),this.scroll.domNode.addEventListener("compositionend",m=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(m)})})}handleCompositionStart(m){const r=m.target instanceof Node?this.scroll.find(m.target,!0):null;!r||r instanceof it.A||(this.emitter.emit(j.A.events.COMPOSITION_BEFORE_START,m),this.scroll.batchStart(),this.emitter.emit(j.A.events.COMPOSITION_START,m),this.isComposing=!0)}handleCompositionEnd(m){this.emitter.emit(j.A.events.COMPOSITION_BEFORE_END,m),this.scroll.batchEnd(),this.emitter.emit(j.A.events.COMPOSITION_END,m),this.isComposing=!1}},ht=e(9609);const gt=m=>{const r=m.getBoundingClientRect(),o="offsetWidth"in m&&Math.abs(r.width)/m.offsetWidth||1,E="offsetHeight"in m&&Math.abs(r.height)/m.offsetHeight||1;return{top:r.top,right:r.left+m.clientWidth*o,bottom:r.top+m.clientHeight*E,left:r.left}},tt=m=>{const r=parseInt(m,10);return Number.isNaN(r)?0:r},X=(m,r,o,E,b,R)=>m<o&&r>E?0:m<o?-(o-m+b):r>E?r-m>E-o?m+b-o:r-E+R:0,lt=["block","break","cursor","inline","scroll","text"],y=(0,B.A)("quill"),t=new q.Registry;q.ParentBlot.uiClass="ql-ui";const U=class U{static debug(r){r===!0&&(r="log"),B.A.level(r)}static find(r){let o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return W.A.get(r)||t.find(r,o)}static import(r){return this.imports[r]==null&&y.error(`Cannot import ${r}. Are you sure it was registered?`),this.imports[r]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const r=arguments.length<=0?void 0:arguments[0],o=!!(!(arguments.length<=1)&&arguments[1]),E="attrName"in r?r.attrName:r.blotName;typeof E=="string"?this.register(`formats/${E}`,r,o):Object.keys(r).forEach(b=>{this.register(b,r[b],o)})}else{const r=arguments.length<=0?void 0:arguments[0],o=arguments.length<=1?void 0:arguments[1],E=!!(!(arguments.length<=2)&&arguments[2]);this.imports[r]==null||E||y.warn(`Overwriting ${r} with`,o),this.imports[r]=o,(r.startsWith("blots/")||r.startsWith("formats/"))&&o&&typeof o!="boolean"&&o.blotName!=="abstract"&&t.register(o),typeof o.register=="function"&&o.register(t)}}constructor(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=function(F,H){const et=s(F);if(!et)throw new Error("Invalid Quill container");const J=!H.theme||H.theme===U.DEFAULTS.theme?ht.A:U.import(`themes/${H.theme}`);if(!J)throw new Error(`Invalid theme ${H.theme}. Did you register it?`);const{modules:nt,...at}=U.DEFAULTS,{modules:ut,...dt}=J.DEFAULTS;let pt=x(H.modules);pt!=null&&pt.toolbar&&pt.toolbar.constructor!==Object&&(pt={...pt,toolbar:{container:pt.toolbar}});const xt=(0,d.A)({},x(nt),x(ut),pt),Lt={...at,...l(dt),...l(H)};let _t=H.registry;return _t?H.formats&&y.warn('Ignoring "formats" option because "registry" is specified'):_t=H.formats?((At,jt,St)=>{const Ct=new q.Registry;return lt.forEach(Nt=>{const kt=jt.query(Nt);kt&&Ct.register(kt)}),At.forEach(Nt=>{let kt=jt.query(Nt);kt||St.error(`Cannot register "${Nt}" specified in "formats" config. Are you sure it was registered?`);let It=0;for(;kt;)if(Ct.register(kt),kt="blotName"in kt?kt.requiredContainer??null:null,It+=1,It>100){St.error(`Cycle detected in registering blot requiredContainer: "${Nt}"`);break}}),Ct})(H.formats,Lt.registry,y):Lt.registry,{...Lt,registry:_t,container:et,theme:J,modules:Object.entries(xt).reduce((At,jt)=>{let[St,Ct]=jt;if(!Ct)return At;const Nt=U.import(`modules/${St}`);return Nt==null?(y.error(`Cannot load ${St} module. Are you sure you registered it?`),At):{...At,[St]:(0,d.A)({},Nt.DEFAULTS||{},Ct)}},{}),bounds:s(Lt.bounds)}}(r,o),this.container=this.options.container,this.container==null)return void y.error("Invalid Quill container",r);this.options.debug&&U.debug(this.options.debug);const E=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",W.A.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new j.A;const b=q.ScrollBlot.blotName,R=this.options.registry.query(b);if(!R||!("blotName"in R))throw new Error(`Cannot initialize Quill without "${b}" blot`);if(this.scroll=new R(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new p(this.scroll),this.selection=new h.A(this.scroll,this.emitter),this.composition=new ot(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(j.A.events.EDITOR_CHANGE,F=>{F===j.A.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(j.A.events.SCROLL_UPDATE,(F,H)=>{const et=this.selection.lastRange,[J]=this.selection.getRange(),nt=et&&J?{oldRange:et,newRange:J}:void 0;u.call(this,()=>this.editor.update(null,H,nt),F)}),this.emitter.on(j.A.events.SCROLL_EMBED_UPDATE,(F,H)=>{const et=this.selection.lastRange,[J]=this.selection.getRange(),nt=et&&J?{oldRange:et,newRange:J}:void 0;u.call(this,()=>{const at=new(v())().retain(F.offset(this)).retain({[F.statics.blotName]:H});return this.editor.update(at,[],nt)},U.sources.USER)}),E){const F=this.clipboard.convert({html:`${E}<p><br></p>`,text:`
`});this.setContents(F)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof r=="string"){const E=r;(r=document.createElement("div")).classList.add(E)}return this.container.insertBefore(r,o),r}blur(){this.selection.setRange(null)}deleteText(r,o,E){return[r,o,,E]=N(r,o,E),u.call(this,()=>this.editor.deleteText(r,o),E,r,-1*o)}disable(){this.enable(!1)}editReadOnly(r){this.allowReadOnlyEdits=!0;const o=r();return this.allowReadOnlyEdits=!1,o}enable(){let r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.scroll.enable(r),this.container.classList.toggle("ql-disabled",!r)}focus(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),r.preventScroll||this.scrollSelectionIntoView()}format(r,o){let E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:j.A.sources.API;return u.call(this,()=>{const b=this.getSelection(!0);let R=new(v());if(b==null)return R;if(this.scroll.query(r,q.Scope.BLOCK))R=this.editor.formatLine(b.index,b.length,{[r]:o});else{if(b.length===0)return this.selection.format(r,o),R;R=this.editor.formatText(b.index,b.length,{[r]:o})}return this.setSelection(b,j.A.sources.SILENT),R},E)}formatLine(r,o,E,b,R){let F;return[r,o,F,R]=N(r,o,E,b,R),u.call(this,()=>this.editor.formatLine(r,o,F),R,r,0)}formatText(r,o,E,b,R){let F;return[r,o,F,R]=N(r,o,E,b,R),u.call(this,()=>this.editor.formatText(r,o,F),R,r,0)}getBounds(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,E=null;if(E=typeof r=="number"?this.selection.getBounds(r,o):this.selection.getBounds(r.index,r.length),!E)return null;const b=this.container.getBoundingClientRect();return{bottom:E.bottom-b.top,height:E.height,left:E.left-b.left,right:E.right-b.left,top:E.top-b.top,width:E.width}}getContents(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-r;return[r,o]=N(r,o),this.editor.getContents(r,o)}getFormat(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof r=="number"?this.editor.getFormat(r,o):this.editor.getFormat(r.index,r.length)}getIndex(r){return r.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(r){return this.scroll.leaf(r)}getLine(r){return this.scroll.line(r)}getLines(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof r!="number"?this.scroll.lines(r.index,r.length):this.scroll.lines(r,o)}getModule(r){return this.theme.modules[r]}getSelection(){return arguments.length>0&&arguments[0]!==void 0&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1?arguments[1]:void 0;return typeof r=="number"&&(o=o??this.getLength()-r),[r,o]=N(r,o),this.editor.getHTML(r,o)}getText(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1?arguments[1]:void 0;return typeof r=="number"&&(o=o??this.getLength()-r),[r,o]=N(r,o),this.editor.getText(r,o)}hasFocus(){return this.selection.hasFocus()}insertEmbed(r,o,E){let b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:U.sources.API;return u.call(this,()=>this.editor.insertEmbed(r,o,E),b,r)}insertText(r,o,E,b,R){let F;return[r,,F,R]=N(r,0,E,b,R),u.call(this,()=>this.editor.insertText(r,o,F),R,r,o.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(r,o,E){return[r,o,,E]=N(r,o,E),u.call(this,()=>this.editor.removeFormat(r,o),E,r)}scrollRectIntoView(r){((o,E)=>{var et,J,nt;const b=o.ownerDocument;let R=E,F=o;for(;F;){const at=F===b.body,ut=at?{top:0,right:((et=window.visualViewport)==null?void 0:et.width)??b.documentElement.clientWidth,bottom:((J=window.visualViewport)==null?void 0:J.height)??b.documentElement.clientHeight,left:0}:gt(F),dt=getComputedStyle(F),pt=X(R.left,R.right,ut.left,ut.right,tt(dt.scrollPaddingLeft),tt(dt.scrollPaddingRight)),xt=X(R.top,R.bottom,ut.top,ut.bottom,tt(dt.scrollPaddingTop),tt(dt.scrollPaddingBottom));if(pt||xt)if(at)(nt=b.defaultView)==null||nt.scrollBy(pt,xt);else{const{scrollLeft:Lt,scrollTop:_t}=F;xt&&(F.scrollTop+=xt),pt&&(F.scrollLeft+=pt);const At=F.scrollLeft-Lt,jt=F.scrollTop-_t;R={left:R.left-At,top:R.top-jt,right:R.right-At,bottom:R.bottom-jt}}F=at||dt.position==="fixed"?null:(H=F).parentElement||H.getRootNode().host||null}var H})(this.root,r)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const r=this.selection.lastRange,o=r&&this.selection.getBounds(r.index,r.length);o&&this.scrollRectIntoView(o)}setContents(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:j.A.sources.API;return u.call(this,()=>{r=new(v())(r);const E=this.getLength(),b=this.editor.deleteText(0,E),R=this.editor.insertContents(0,r),F=this.editor.deleteText(this.getLength()-1,1);return b.compose(R).compose(F)},o)}setSelection(r,o,E){r==null?this.selection.setRange(null,o||U.sources.API):([r,o,,E]=N(r,o,E),this.selection.setRange(new h.Q(Math.max(0,r),o),E),E!==j.A.sources.SILENT&&this.scrollSelectionIntoView())}setText(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:j.A.sources.API;const E=new(v())().insert(r);return this.setContents(E,o)}update(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:j.A.sources.USER;const o=this.scroll.update(r);return this.selection.update(r),o}updateContents(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:j.A.sources.API;return u.call(this,()=>(r=new(v())(r),this.editor.applyDelta(r)),o,!0)}};ft(U,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:t,theme:"default"}),ft(U,"events",j.A.events),ft(U,"sources",j.A.sources),ft(U,"version","2.0.2"),ft(U,"imports",{delta:v(),parchment:q,"core/module":Z.A,"core/theme":ht.A});let n=U;function s(m){return typeof m=="string"?document.querySelector(m):m}function x(m){return Object.entries(m??{}).reduce((r,o)=>{let[E,b]=o;return{...r,[E]:b===!0?{}:b}},{})}function l(m){return Object.fromEntries(Object.entries(m).filter(r=>r[1]!==void 0))}function u(m,r,o,E){if(!this.isEnabled()&&r===j.A.sources.USER&&!this.allowReadOnlyEdits)return new(v());let b=o==null?null:this.getSelection();const R=this.editor.delta,F=m();if(b!=null&&(o===!0&&(o=b.index),E==null?b=T(b,F,r):E!==0&&(b=T(b,o,E,r)),this.setSelection(b,j.A.sources.SILENT)),F.length()>0){const H=[j.A.events.TEXT_CHANGE,F,R,r];this.emitter.emit(j.A.events.EDITOR_CHANGE,...H),r!==j.A.sources.SILENT&&this.emitter.emit(...H)}return F}function N(m,r,o,E,b){let R={};return typeof m.index=="number"&&typeof m.length=="number"?typeof r!="number"?(b=E,E=o,o=r,r=m.length,m=m.index):(r=m.length,m=m.index):typeof r!="number"&&(b=E,E=o,o=r,r=0),typeof o=="object"?(R=o,b=E):typeof o=="string"&&(E!=null?R[o]=E:b=o),[m,r,R,b=b||j.A.sources.API]}function T(m,r,o,E){const b=typeof o=="number"?o:0;if(m==null)return null;let R,F;return r&&typeof r.transformPosition=="function"?[R,F]=[m.index,m.index+m.length].map(H=>r.transformPosition(H,E!==j.A.sources.USER)):[R,F]=[m.index,m.index+m.length].map(H=>H<r||H===r&&E===j.A.sources.USER?H:b>=0?H+b:Math.max(r,H+b)),new h.Q(R,F-R)}},8298:function(G,C,e){e.d(C,{Q:function(){return f}});var d=e(6003),q=e(5123),S=e(3707),v=e(5374);const M=(0,e(6078).A)("quill:selection");class f{constructor(A){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=A,this.length=O}}function k(a,A){try{A.parentNode}catch{return!1}return a.contains(A)}C.A=class{constructor(a,A){this.emitter=A,this.scroll=a,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new f(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{this.mouseDown||this.composing||setTimeout(this.update.bind(this,v.A.sources.USER),1)}),this.emitter.on(v.A.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const O=this.getNativeRange();O!=null&&O.start.node!==this.cursor.textNode&&this.emitter.once(v.A.events.SCROLL_UPDATE,(h,w)=>{try{this.root.contains(O.start.node)&&this.root.contains(O.end.node)&&this.setNativeRange(O.start.node,O.start.offset,O.end.node,O.end.offset);const L=w.some(_=>_.type==="characterData"||_.type==="childList"||_.type==="attributes"&&_.target===this.root);this.update(L?v.A.sources.SILENT:h)}catch{}})}),this.emitter.on(v.A.events.SCROLL_OPTIMIZE,(O,h)=>{if(h.range){const{startNode:w,startOffset:L,endNode:_,endOffset:z}=h.range;this.setNativeRange(w,L,_,z),this.update(v.A.sources.SILENT)}}),this.update(v.A.sources.SILENT)}handleComposition(){this.emitter.on(v.A.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(v.A.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const a=this.cursor.restore();if(!a)return;setTimeout(()=>{this.setNativeRange(a.startNode,a.startOffset,a.endNode,a.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(v.A.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(a,A){this.scroll.update();const O=this.getNativeRange();if(O!=null&&O.native.collapsed&&!this.scroll.query(a,d.Scope.BLOCK)){if(O.start.node!==this.cursor.textNode){const h=this.scroll.find(O.start.node,!1);if(h==null)return;if(h instanceof d.LeafBlot){const w=h.split(O.start.offset);h.parent.insertBefore(this.cursor,w)}else h.insertBefore(this.cursor,O.start.node);this.cursor.attach()}this.cursor.format(a,A),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(a){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const O=this.scroll.length();let h;a=Math.min(a,O-1),A=Math.min(a+A,O-1)-a;let[w,L]=this.scroll.leaf(a);if(w==null)return null;if(A>0&&L===w.length()){const[st]=this.scroll.leaf(a+1);if(st){const[K]=this.scroll.line(a),[p]=this.scroll.line(a+1);K===p&&(w=st,L=0)}}[h,L]=w.position(L,!0);const _=document.createRange();if(A>0)return _.setStart(h,L),[w,L]=this.scroll.leaf(a+A),w==null?null:([h,L]=w.position(L,!0),_.setEnd(h,L),_.getBoundingClientRect());let z,Y="left";if(h instanceof Text){if(!h.data.length)return null;L<h.data.length?(_.setStart(h,L),_.setEnd(h,L+1)):(_.setStart(h,L-1),_.setEnd(h,L),Y="right"),z=_.getBoundingClientRect()}else{if(!(w.domNode instanceof Element))return null;z=w.domNode.getBoundingClientRect(),L>0&&(Y="right")}return{bottom:z.top+z.height,height:z.height,left:z[Y],right:z[Y],top:z.top,width:0}}getNativeRange(){const a=document.getSelection();if(a==null||a.rangeCount<=0)return null;const A=a.getRangeAt(0);if(A==null)return null;const O=this.normalizeNative(A);return M.info("getNativeRange",O),O}getRange(){const a=this.scroll.domNode;if("isConnected"in a&&!a.isConnected)return[null,null];const A=this.getNativeRange();return A==null?[null,null]:[this.normalizedToRange(A),A]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&k(this.root,document.activeElement)}normalizedToRange(a){const A=[[a.start.node,a.start.offset]];a.native.collapsed||A.push([a.end.node,a.end.offset]);const O=A.map(L=>{const[_,z]=L,Y=this.scroll.find(_,!0),st=Y.offset(this.scroll);return z===0?st:Y instanceof d.LeafBlot?st+Y.index(_,z):st+Y.length()}),h=Math.min(Math.max(...O),this.scroll.length()-1),w=Math.min(h,...O);return new f(w,h-w)}normalizeNative(a){if(!k(this.root,a.startContainer)||!a.collapsed&&!k(this.root,a.endContainer))return null;const A={start:{node:a.startContainer,offset:a.startOffset},end:{node:a.endContainer,offset:a.endOffset},native:a};return[A.start,A.end].forEach(O=>{let{node:h,offset:w}=O;for(;!(h instanceof Text)&&h.childNodes.length>0;)if(h.childNodes.length>w)h=h.childNodes[w],w=0;else{if(h.childNodes.length!==w)break;h=h.lastChild,w=h instanceof Text?h.data.length:h.childNodes.length>0?h.childNodes.length:h.childNodes.length+1}O.node=h,O.offset=w}),A}rangeToNative(a){const A=this.scroll.length(),O=(h,w)=>{h=Math.min(A-1,h);const[L,_]=this.scroll.leaf(h);return L?L.position(_,w):[null,-1]};return[...O(a.index,!1),...O(a.index+a.length,!0)]}setNativeRange(a,A){let O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:a,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:A,w=arguments.length>4&&arguments[4]!==void 0&&arguments[4];if(M.info("setNativeRange",a,A,O,h),a!=null&&(this.root.parentNode==null||a.parentNode==null||O.parentNode==null))return;const L=document.getSelection();if(L!=null)if(a!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:_}=this.getNativeRange()||{};if(_==null||w||a!==_.startContainer||A!==_.startOffset||O!==_.endContainer||h!==_.endOffset){a instanceof Element&&a.tagName==="BR"&&(A=Array.from(a.parentNode.childNodes).indexOf(a),a=a.parentNode),O instanceof Element&&O.tagName==="BR"&&(h=Array.from(O.parentNode.childNodes).indexOf(O),O=O.parentNode);const z=document.createRange();z.setStart(a,A),z.setEnd(O,h),L.removeAllRanges(),L.addRange(z)}}else L.removeAllRanges(),this.root.blur()}setRange(a){let A=arguments.length>1&&arguments[1]!==void 0&&arguments[1],O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.A.sources.API;if(typeof A=="string"&&(O=A,A=!1),M.info("setRange",a),a!=null){const h=this.rangeToNative(a);this.setNativeRange(...h,A)}else this.setNativeRange(null);this.update(O)}update(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v.A.sources.USER;const A=this.lastRange,[O,h]=this.getRange();if(this.lastRange=O,this.lastNative=h,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,q.A)(A,this.lastRange)){if(!this.composing&&h!=null&&h.native.collapsed&&h.start.node!==this.cursor.textNode){const L=this.cursor.restore();L&&this.setNativeRange(L.startNode,L.startOffset,L.endNode,L.endOffset)}const w=[v.A.events.SELECTION_CHANGE,(0,S.A)(this.lastRange),(0,S.A)(A),a];this.emitter.emit(v.A.events.EDITOR_CHANGE,...w),a!==v.A.sources.SILENT&&this.emitter.emit(...w)}}}},9609:function(G,C){const d=class d{constructor(S,v){ft(this,"modules",{});this.quill=S,this.options=v}init(){Object.keys(this.options.modules).forEach(S=>{this.modules[S]==null&&this.addModule(S)})}addModule(S){const v=this.quill.constructor.import(`modules/${S}`);return this.modules[S]=new v(this.quill,this.options.modules[S]||{}),this.modules[S]}};ft(d,"DEFAULTS",{modules:{}}),ft(d,"themes",{default:d});let e=d;C.A=e},8276:function(G,C,e){e.d(C,{Hu:function(){return M},gS:function(){return S},qh:function(){return v}});var d=e(6003);const q={scope:d.Scope.BLOCK,whitelist:["right","center","justify"]},S=new d.Attributor("align","align",q),v=new d.ClassAttributor("align","ql-align",q),M=new d.StyleAttributor("align","text-align",q)},9541:function(G,C,e){e.d(C,{l:function(){return S},s:function(){return v}});var d=e(6003),q=e(8638);const S=new d.ClassAttributor("background","ql-bg",{scope:d.Scope.INLINE}),v=new q.a2("background","background-color",{scope:d.Scope.INLINE})},9404:function(G,C,e){e.d(C,{Ay:function(){return A},Cy:function(){return O},EJ:function(){return a}});var d=e(9698),q=e(3036),S=e(4541),v=e(4850),M=e(5508),f=e(580),k=e(6142);class a extends f.A{static create(w){const L=super.create(w);return L.setAttribute("spellcheck","false"),L}code(w,L){return this.children.map(_=>_.length()<=1?"":_.domNode.innerText).join(`
`).slice(w,w+L)}html(w,L){return`<pre>
${(0,M.X)(this.code(w,L))}
</pre>`}}class A extends d.Ay{static register(){k.Ay.register(a)}}ft(A,"TAB","  ");class O extends v.A{}O.blotName="code",O.tagName="CODE",A.blotName="code-block",A.className="ql-code-block",A.tagName="DIV",a.blotName="code-block-container",a.className="ql-code-block-container",a.tagName="DIV",a.allowedChildren=[A],A.allowedChildren=[M.A,q.A,S.A],A.requiredContainer=a},8638:function(G,C,e){e.d(C,{JM:function(){return v},a2:function(){return q},g3:function(){return S}});var d=e(6003);class q extends d.StyleAttributor{value(f){let k=super.value(f);return k.startsWith("rgb(")?(k=k.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${k.split(",").map(a=>`00${parseInt(a,10).toString(16)}`.slice(-2)).join("")}`):k}}const S=new d.ClassAttributor("color","ql-color",{scope:d.Scope.INLINE}),v=new q("color","color",{scope:d.Scope.INLINE})},7912:function(G,C,e){e.d(C,{Mc:function(){return S},VL:function(){return M},sY:function(){return v}});var d=e(6003);const q={scope:d.Scope.BLOCK,whitelist:["rtl"]},S=new d.Attributor("direction","dir",q),v=new d.ClassAttributor("direction","ql-direction",q),M=new d.StyleAttributor("direction","direction",q)},6772:function(G,C,e){e.d(C,{q:function(){return S},z:function(){return M}});var d=e(6003);const q={scope:d.Scope.INLINE,whitelist:["serif","monospace"]},S=new d.ClassAttributor("font","ql-font",q);class v extends d.StyleAttributor{value(k){return super.value(k).replace(/["']/g,"")}}const M=new v("font","font-family",q)},664:function(G,C,e){e.d(C,{U:function(){return q},r:function(){return S}});var d=e(6003);const q=new d.ClassAttributor("size","ql-size",{scope:d.Scope.INLINE,whitelist:["small","large","huge"]}),S=new d.StyleAttributor("size","font-size",{scope:d.Scope.INLINE,whitelist:["10px","18px","32px"]})},584:function(G,C,e){e.d(C,{Ay:function(){return gt},hV:function(){return n}});var d=e(6003),q=e(5232),S=e.n(q),v=e(9698),M=e(6078),f=e(4266),k=e(6142),a=e(8276),A=e(9541),O=e(9404),h=e(8638),w=e(7912),L=e(6772),_=e(664),z=e(8123);const Y=/font-weight:\s*normal/,st=["P","OL","UL"],K=l=>l&&st.includes(l.tagName),p=/\bmso-list:[^;]*ignore/i,j=/\bmso-list:[^;]*\bl(\d+)/i,W=/\bmso-list:[^;]*\blevel(\d+)/i,B=[function(l){l.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&(u=>{var o,E;const N=Array.from(u.querySelectorAll("[style*=mso-list]")),T=[],U=[];N.forEach(b=>{(b.getAttribute("style")||"").match(p)?T.push(b):U.push(b)}),T.forEach(b=>{var R;return(R=b.parentNode)==null?void 0:R.removeChild(b)});const m=u.documentElement.innerHTML,r=U.map(b=>((R,F)=>{const H=R.getAttribute("style"),et=H==null?void 0:H.match(j);if(!et)return null;const J=Number(et[1]),nt=H==null?void 0:H.match(W),at=nt?Number(nt[1]):1,ut=new RegExp(`@list l${J}:level${at}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),dt=F.match(ut);return{id:J,indent:at,type:dt&&dt[1]==="bullet"?"bullet":"ordered",element:R}})(b,m)).filter(b=>b);for(;r.length;){const b=[];let R=r.shift();for(;R;)b.push(R),R=r.length&&((o=r[0])==null?void 0:o.element)===R.element.nextElementSibling&&r[0].id===R.id?r.shift():null;const F=document.createElement("ul");b.forEach(J=>{const nt=document.createElement("li");nt.setAttribute("data-list",J.type),J.indent>1&&nt.setAttribute("class","ql-indent-"+(J.indent-1)),nt.innerHTML=J.element.innerHTML,F.appendChild(nt)});const H=(E=b[0])==null?void 0:E.element,{parentNode:et}=H??{};H&&(et==null||et.replaceChild(F,H)),b.slice(1).forEach(J=>{let{element:nt}=J;et==null||et.removeChild(nt)})}})(l)},function(l){l.querySelector('[id^="docs-internal-guid-"]')&&((u=>{Array.from(u.querySelectorAll('b[style*="font-weight"]')).filter(N=>{var T;return(T=N.getAttribute("style"))==null?void 0:T.match(Y)}).forEach(N=>{var U;const T=u.createDocumentFragment();T.append(...N.childNodes),(U=N.parentNode)==null||U.replaceChild(T,N)})})(l),(u=>{Array.from(u.querySelectorAll("br")).filter(N=>K(N.previousElementSibling)&&K(N.nextElementSibling)).forEach(N=>{var T;(T=N.parentNode)==null||T.removeChild(N)})})(l))}],Z=(0,M.A)("quill:clipboard"),it=[[Node.TEXT_NODE,function(l,u,N){var U;let T=l.data;if(((U=l.parentElement)==null?void 0:U.tagName)==="O:P")return u.insert(T.trim());if(!t(l)){if(T.trim().length===0&&T.includes(`
`)&&!function(r,o){return r.previousElementSibling&&r.nextElementSibling&&!lt(r.previousElementSibling,o)&&!lt(r.nextElementSibling,o)}(l,N))return u;const m=(r,o)=>{const E=o.replace(/[^\u00a0]/g,"");return E.length<1&&r?" ":E};T=T.replace(/\r\n/g," ").replace(/\n/g," "),T=T.replace(/\s\s+/g,m.bind(m,!0)),(l.previousSibling==null&&l.parentElement!=null&&lt(l.parentElement,N)||l.previousSibling instanceof Element&&lt(l.previousSibling,N))&&(T=T.replace(/^\s+/,m.bind(m,!1))),(l.nextSibling==null&&l.parentElement!=null&&lt(l.parentElement,N)||l.nextSibling instanceof Element&&lt(l.nextSibling,N))&&(T=T.replace(/\s+$/,m.bind(m,!1)))}return u.insert(T)}],[Node.TEXT_NODE,x],["br",function(l,u){return X(u,`
`)||u.insert(`
`),u}],[Node.ELEMENT_NODE,x],[Node.ELEMENT_NODE,function(l,u,N){const T=N.query(l);if(T==null)return u;if(T.prototype instanceof d.EmbedBlot){const U={},m=T.value(l);if(m!=null)return U[T.blotName]=m,new(S())().insert(U,T.formats(l,N))}else if(T.prototype instanceof d.BlockBlot&&!X(u,`
`)&&u.insert(`
`),"blotName"in T&&"formats"in T&&typeof T.formats=="function")return tt(u,T.blotName,T.formats(l,N),N);return u}],[Node.ELEMENT_NODE,function(l,u,N){const T=d.Attributor.keys(l),U=d.ClassAttributor.keys(l),m=d.StyleAttributor.keys(l),r={};return T.concat(U).concat(m).forEach(o=>{let E=N.query(o,d.Scope.ATTRIBUTE);E!=null&&(r[E.attrName]=E.value(l),r[E.attrName])||(E=ot[o],E==null||E.attrName!==o&&E.keyName!==o||(r[E.attrName]=E.value(l)||void 0),E=ht[o],E==null||E.attrName!==o&&E.keyName!==o||(E=ht[o],r[E.attrName]=E.value(l)||void 0))}),Object.entries(r).reduce((o,E)=>{let[b,R]=E;return tt(o,b,R,N)},u)}],[Node.ELEMENT_NODE,function(l,u,N){var m;const T={},U=l.style||{};return U.fontStyle==="italic"&&(T.italic=!0),U.textDecoration==="underline"&&(T.underline=!0),U.textDecoration==="line-through"&&(T.strike=!0),((m=U.fontWeight)!=null&&m.startsWith("bold")||parseInt(U.fontWeight,10)>=700)&&(T.bold=!0),u=Object.entries(T).reduce((r,o)=>{let[E,b]=o;return tt(r,E,b,N)},u),parseFloat(U.textIndent||0)>0?new(S())().insert("	").concat(u):u}],["li",function(l,u,N){const T=N.query(l);if(T==null||T.blotName!=="list"||!X(u,`
`))return u;let U=-1,m=l.parentNode;for(;m!=null;)["OL","UL"].includes(m.tagName)&&(U+=1),m=m.parentNode;return U<=0?u:u.reduce((r,o)=>o.insert?o.attributes&&typeof o.attributes.indent=="number"?r.push(o):r.insert(o.insert,{indent:U,...o.attributes||{}}):r,new(S()))}],["ol, ul",function(l,u,N){const T=l;let U=T.tagName==="OL"?"ordered":"bullet";const m=T.getAttribute("data-checked");return m&&(U=m==="true"?"checked":"unchecked"),tt(u,"list",U,N)}],["pre",function(l,u,N){const T=N.query("code-block");return tt(u,"code-block",!T||!("formats"in T)||typeof T.formats!="function"||T.formats(l,N),N)}],["tr",function(l,u,N){var U,m;const T=((U=l.parentElement)==null?void 0:U.tagName)==="TABLE"?l.parentElement:(m=l.parentElement)==null?void 0:m.parentElement;return T!=null?tt(u,"table",Array.from(T.querySelectorAll("tr")).indexOf(l)+1,N):u}],["b",s("bold")],["i",s("italic")],["strike",s("strike")],["style",function(){return new(S())}]],ot=[a.gS,w.Mc].reduce((l,u)=>(l[u.keyName]=u,l),{}),ht=[a.Hu,A.s,h.JM,w.VL,L.z,_.r].reduce((l,u)=>(l[u.keyName]=u,l),{});class gt extends f.A{constructor(u,N){super(u,N),this.quill.root.addEventListener("copy",T=>this.onCaptureCopy(T,!1)),this.quill.root.addEventListener("cut",T=>this.onCaptureCopy(T,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],it.concat(this.options.matchers??[]).forEach(T=>{let[U,m]=T;this.addMatcher(U,m)})}addMatcher(u,N){this.matchers.push([u,N])}convert(u){let{html:N,text:T}=u,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(U[O.Ay.blotName])return new(S())().insert(T||"",{[O.Ay.blotName]:U[O.Ay.blotName]});if(!N)return new(S())().insert(T||"",U);const m=this.convertHTML(N);return X(m,`
`)&&(m.ops[m.ops.length-1].attributes==null||U.table)?m.compose(new(S())().retain(m.length()-1).delete(1)):m}normalizeHTML(u){(N=>{N.documentElement&&B.forEach(T=>{T(N)})})(u)}convertHTML(u){const N=new DOMParser().parseFromString(u,"text/html");this.normalizeHTML(N);const T=N.body,U=new WeakMap,[m,r]=this.prepareMatching(T,U);return n(this.quill.scroll,T,m,r,U)}dangerouslyPasteHTML(u,N){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:k.Ay.sources.API;if(typeof u=="string"){const U=this.convert({html:u,text:""});this.quill.setContents(U,N),this.quill.setSelection(0,k.Ay.sources.SILENT)}else{const U=this.convert({html:N,text:""});this.quill.updateContents(new(S())().retain(u).concat(U),T),this.quill.setSelection(u+U.length(),k.Ay.sources.SILENT)}}onCaptureCopy(u){var r,o;let N=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(u.defaultPrevented)return;u.preventDefault();const[T]=this.quill.selection.getRange();if(T==null)return;const{html:U,text:m}=this.onCopy(T,N);(r=u.clipboardData)==null||r.setData("text/plain",m),(o=u.clipboardData)==null||o.setData("text/html",U),N&&(0,z.Xo)({range:T,quill:this.quill})}normalizeURIList(u){return u.split(/\r?\n/).filter(N=>N[0]!=="#").join(`
`)}onCapturePaste(u){var r,o,E,b,R;if(u.defaultPrevented||!this.quill.isEnabled())return;u.preventDefault();const N=this.quill.getSelection(!0);if(N==null)return;const T=(r=u.clipboardData)==null?void 0:r.getData("text/html");let U=(o=u.clipboardData)==null?void 0:o.getData("text/plain");if(!T&&!U){const F=(E=u.clipboardData)==null?void 0:E.getData("text/uri-list");F&&(U=this.normalizeURIList(F))}const m=Array.from(((b=u.clipboardData)==null?void 0:b.files)||[]);if(!T&&m.length>0)this.quill.uploader.upload(N,m);else{if(T&&m.length>0){const F=new DOMParser().parseFromString(T,"text/html");if(F.body.childElementCount===1&&((R=F.body.firstElementChild)==null?void 0:R.tagName)==="IMG")return void this.quill.uploader.upload(N,m)}this.onPaste(N,{html:T,text:U})}}onCopy(u){const N=this.quill.getText(u);return{html:this.quill.getSemanticHTML(u),text:N}}onPaste(u,N){let{text:T,html:U}=N;const m=this.quill.getFormat(u.index),r=this.convert({text:T,html:U},m);Z.log("onPaste",r,{text:T,html:U});const o=new(S())().retain(u.index).delete(u.length).concat(r);this.quill.updateContents(o,k.Ay.sources.USER),this.quill.setSelection(o.length()-u.length,k.Ay.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(u,N){const T=[],U=[];return this.matchers.forEach(m=>{const[r,o]=m;switch(r){case Node.TEXT_NODE:U.push(o);break;case Node.ELEMENT_NODE:T.push(o);break;default:Array.from(u.querySelectorAll(r)).forEach(E=>{if(N.has(E)){const b=N.get(E);b==null||b.push(o)}else N.set(E,[o])})}}),[T,U]}}ft(gt,"DEFAULTS",{matchers:[]});function tt(l,u,N,T){return T.query(u)?l.reduce((U,m)=>{if(!m.insert)return U;if(m.attributes&&m.attributes[u])return U.push(m);const r=N?{[u]:N}:{};return U.insert(m.insert,{...r,...m.attributes})},new(S())):l}function X(l,u){let N="";for(let T=l.ops.length-1;T>=0&&N.length<u.length;--T){const U=l.ops[T];if(typeof U.insert!="string")break;N=U.insert+N}return N.slice(-1*u.length)===u}function lt(l,u){if(!(l instanceof Element))return!1;const N=u.query(l);return!(N&&N.prototype instanceof d.EmbedBlot)&&["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(l.tagName.toLowerCase())}const y=new WeakMap;function t(l){return l!=null&&(y.has(l)||(l.tagName==="PRE"?y.set(l,!0):y.set(l,t(l.parentNode))),y.get(l))}function n(l,u,N,T,U){return u.nodeType===u.TEXT_NODE?T.reduce((m,r)=>r(u,m,l),new(S())):u.nodeType===u.ELEMENT_NODE?Array.from(u.childNodes||[]).reduce((m,r)=>{let o=n(l,r,N,T,U);return r.nodeType===u.ELEMENT_NODE&&(o=N.reduce((E,b)=>b(r,E,l),o),o=(U.get(r)||[]).reduce((E,b)=>b(r,E,l),o)),m.concat(o)},new(S())):new(S())}function s(l){return(u,N,T)=>tt(N,l,!0,T)}function x(l,u,N){if(!X(u,`
`)){if(lt(l,N)&&(l.childNodes.length>0||l instanceof HTMLParagraphElement))return u.insert(`
`);if(u.length()>0&&l.nextSibling){let T=l.nextSibling;for(;T!=null;){if(lt(T,N))return u.insert(`
`);const U=N.query(T);if(U&&U.prototype instanceof v.zo)return u.insert(`
`);T=T.firstChild}}}return u}},8123:function(G,C,e){e.d(C,{Ay:function(){return h},Xo:function(){return st}});var d=e(5123),q=e(3707),S=e(5232),v=e.n(S),M=e(6003),f=e(6142),k=e(6078),a=e(4266);const A=(0,k.A)("quill:keyboard"),O=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class h extends a.A{static match(p,j){return!["altKey","ctrlKey","metaKey","shiftKey"].some(W=>!!j[W]!==p[W]&&j[W]!==null)&&(j.key===p.key||j.key===p.which)}constructor(p,j){super(p,j),this.bindings={},Object.keys(this.options.bindings).forEach(W=>{this.options.bindings[W]&&this.addBinding(this.options.bindings[W])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(p){let j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const B=function(Z){if(typeof Z=="string"||typeof Z=="number")Z={key:Z};else{if(typeof Z!="object")return null;Z=(0,q.A)(Z)}return Z.shortKey&&(Z[O]=Z.shortKey,delete Z.shortKey),Z}(p);B!=null?(typeof j=="function"&&(j={handler:j}),typeof W=="function"&&(W={handler:W}),(Array.isArray(B.key)?B.key:[B.key]).forEach(Z=>{const it={...B,key:Z,...j,...W};this.bindings[it.key]=this.bindings[it.key]||[],this.bindings[it.key].push(it)})):A.warn("Attempted to add invalid keyboard binding",B)}listen(){this.quill.root.addEventListener("keydown",p=>{if(p.defaultPrevented||p.isComposing||p.keyCode===229&&(p.key==="Enter"||p.key==="Backspace"))return;const j=(this.bindings[p.key]||[]).concat(this.bindings[p.which]||[]).filter(t=>h.match(p,t));if(j.length===0)return;const W=f.Ay.find(p.target,!0);if(W&&W.scroll!==this.quill.scroll)return;const B=this.quill.getSelection();if(B==null||!this.quill.hasFocus())return;const[Z,it]=this.quill.getLine(B.index),[ot,ht]=this.quill.getLeaf(B.index),[gt,tt]=B.length===0?[ot,ht]:this.quill.getLeaf(B.index+B.length),X=ot instanceof M.TextBlot?ot.value().slice(0,ht):"",lt=gt instanceof M.TextBlot?gt.value().slice(tt):"",y={collapsed:B.length===0,empty:B.length===0&&Z.length()<=1,format:this.quill.getFormat(B),line:Z,offset:it,prefix:X,suffix:lt,event:p};j.some(t=>{if(t.collapsed!=null&&t.collapsed!==y.collapsed||t.empty!=null&&t.empty!==y.empty||t.offset!=null&&t.offset!==y.offset)return!1;if(Array.isArray(t.format)){if(t.format.every(n=>y.format[n]==null))return!1}else if(typeof t.format=="object"&&!Object.keys(t.format).every(n=>t.format[n]===!0?y.format[n]!=null:t.format[n]===!1?y.format[n]==null:(0,d.A)(t.format[n],y.format[n])))return!1;return!(t.prefix!=null&&!t.prefix.test(y.prefix)||t.suffix!=null&&!t.suffix.test(y.suffix)||t.handler.call(this,B,y,t)===!0)})&&p.preventDefault()})}handleBackspace(p,j){const W=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(j.prefix)?2:1;if(p.index===0||this.quill.getLength()<=1)return;let B={};const[Z]=this.quill.getLine(p.index);let it=new(v())().retain(p.index-W).delete(W);if(j.offset===0){const[ot]=this.quill.getLine(p.index-1);if(ot&&!(ot.statics.blotName==="block"&&ot.length()<=1)){const ht=Z.formats(),gt=this.quill.getFormat(p.index-1,1);if(B=S.AttributeMap.diff(ht,gt)||{},Object.keys(B).length>0){const tt=new(v())().retain(p.index+Z.length()-2).retain(1,B);it=it.compose(tt)}}}this.quill.updateContents(it,f.Ay.sources.USER),this.quill.focus()}handleDelete(p,j){const W=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(j.suffix)?2:1;if(p.index>=this.quill.getLength()-W)return;let B={};const[Z]=this.quill.getLine(p.index);let it=new(v())().retain(p.index).delete(W);if(j.offset>=Z.length()-1){const[ot]=this.quill.getLine(p.index+1);if(ot){const ht=Z.formats(),gt=this.quill.getFormat(p.index,1);B=S.AttributeMap.diff(ht,gt)||{},Object.keys(B).length>0&&(it=it.retain(ot.length()-1).retain(1,B))}}this.quill.updateContents(it,f.Ay.sources.USER),this.quill.focus()}handleDeleteRange(p){st({range:p,quill:this.quill}),this.quill.focus()}handleEnter(p,j){const W=Object.keys(j.format).reduce((Z,it)=>(this.quill.scroll.query(it,M.Scope.BLOCK)&&!Array.isArray(j.format[it])&&(Z[it]=j.format[it]),Z),{}),B=new(v())().retain(p.index).delete(p.length).insert(`
`,W);this.quill.updateContents(B,f.Ay.sources.USER),this.quill.setSelection(p.index+1,f.Ay.sources.SILENT),this.quill.focus()}}const w={bindings:{bold:z("bold"),italic:z("italic"),underline:z("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(K,p){return!(!p.collapsed||p.offset===0)||(this.quill.format("indent","+1",f.Ay.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(K,p){return!(!p.collapsed||p.offset===0)||(this.quill.format("indent","-1",f.Ay.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(K,p){p.format.indent!=null?this.quill.format("indent","-1",f.Ay.sources.USER):p.format.list!=null&&this.quill.format("list",!1,f.Ay.sources.USER)}},"indent code-block":L(!0),"outdent code-block":L(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(K){this.quill.deleteText(K.index-1,1,f.Ay.sources.USER)}},tab:{key:"Tab",handler(K,p){if(p.format.table)return!0;this.quill.history.cutoff();const j=new(v())().retain(K.index).delete(K.length).insert("	");return this.quill.updateContents(j,f.Ay.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(K.index+1,f.Ay.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,f.Ay.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(K,p){const j={list:!1};p.format.indent&&(j.indent=!1),this.quill.formatLine(K.index,K.length,j,f.Ay.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(K){const[p,j]=this.quill.getLine(K.index),W={...p.formats(),list:"checked"},B=new(v())().retain(K.index).insert(`
`,W).retain(p.length()-j-1).retain(1,{list:"unchecked"});this.quill.updateContents(B,f.Ay.sources.USER),this.quill.setSelection(K.index+1,f.Ay.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(K,p){const[j,W]=this.quill.getLine(K.index),B=new(v())().retain(K.index).insert(`
`,p.format).retain(j.length()-W-1).retain(1,{header:null});this.quill.updateContents(B,f.Ay.sources.USER),this.quill.setSelection(K.index+1,f.Ay.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(K){const p=this.quill.getModule("table");if(p){const[j,W,B,Z]=p.getTable(K),it=function(ht,gt,tt,X){return gt.prev==null&&gt.next==null?tt.prev==null&&tt.next==null?X===0?-1:1:tt.prev==null?-1:1:gt.prev==null?-1:gt.next==null?1:null}(0,W,B,Z);if(it==null)return;let ot=j.offset();if(it<0){const ht=new(v())().retain(ot).insert(`
`);this.quill.updateContents(ht,f.Ay.sources.USER),this.quill.setSelection(K.index+1,K.length,f.Ay.sources.SILENT)}else if(it>0){ot+=j.length();const ht=new(v())().retain(ot).insert(`
`);this.quill.updateContents(ht,f.Ay.sources.USER),this.quill.setSelection(ot,f.Ay.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(K,p){const{event:j,line:W}=p,B=W.offset(this.quill.scroll);j.shiftKey?this.quill.setSelection(B-1,f.Ay.sources.USER):this.quill.setSelection(B+W.length(),f.Ay.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(K,p){if(this.quill.scroll.query("list")==null)return!0;const{length:j}=p.prefix,[W,B]=this.quill.getLine(K.index);if(B>j)return!0;let Z;switch(p.prefix.trim()){case"[]":case"[ ]":Z="unchecked";break;case"[x]":Z="checked";break;case"-":case"*":Z="bullet";break;default:Z="ordered"}this.quill.insertText(K.index," ",f.Ay.sources.USER),this.quill.history.cutoff();const it=new(v())().retain(K.index-B).delete(j+1).retain(W.length()-2-B).retain(1,{list:Z});return this.quill.updateContents(it,f.Ay.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(K.index-j,f.Ay.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(K){const[p,j]=this.quill.getLine(K.index);let W=2,B=p;for(;B!=null&&B.length()<=1&&B.formats()["code-block"];)if(B=B.prev,W-=1,W<=0){const Z=new(v())().retain(K.index+p.length()-j-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(Z,f.Ay.sources.USER),this.quill.setSelection(K.index-1,f.Ay.sources.SILENT),!1}return!0}},"embed left":_("ArrowLeft",!1),"embed left shift":_("ArrowLeft",!0),"embed right":_("ArrowRight",!1),"embed right shift":_("ArrowRight",!0),"table down":Y(!1),"table up":Y(!0)}};function L(K){return{key:"Tab",shiftKey:!K,format:{"code-block":!0},handler(p,j){let{event:W}=j;const B=this.quill.scroll.query("code-block"),{TAB:Z}=B;if(p.length===0&&!W.shiftKey)return this.quill.insertText(p.index,Z,f.Ay.sources.USER),void this.quill.setSelection(p.index+Z.length,f.Ay.sources.SILENT);const it=p.length===0?this.quill.getLines(p.index,1):this.quill.getLines(p);let{index:ot,length:ht}=p;it.forEach((gt,tt)=>{K?(gt.insertAt(0,Z),tt===0?ot+=Z.length:ht+=Z.length):gt.domNode.textContent.startsWith(Z)&&(gt.deleteAt(0,Z.length),tt===0?ot-=Z.length:ht-=Z.length)}),this.quill.update(f.Ay.sources.USER),this.quill.setSelection(ot,ht,f.Ay.sources.SILENT)}}}function _(K,p){return{key:K,shiftKey:p,altKey:null,[K==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(j){let{index:W}=j;K==="ArrowRight"&&(W+=j.length+1);const[B]=this.quill.getLeaf(W);return!(B instanceof M.EmbedBlot&&(K==="ArrowLeft"?p?this.quill.setSelection(j.index-1,j.length+1,f.Ay.sources.USER):this.quill.setSelection(j.index-1,f.Ay.sources.USER):p?this.quill.setSelection(j.index,j.length+1,f.Ay.sources.USER):this.quill.setSelection(j.index+j.length+1,f.Ay.sources.USER),1))}}}function z(K){return{key:K[0],shortKey:!0,handler(p,j){this.quill.format(K,!j.format[K],f.Ay.sources.USER)}}}function Y(K){return{key:K?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(p,j){const W=K?"prev":"next",B=j.line,Z=B.parent[W];if(Z!=null){if(Z.statics.blotName==="table-row"){let it=Z.children.head,ot=B;for(;ot.prev!=null;)ot=ot.prev,it=it.next;const ht=it.offset(this.quill.scroll)+Math.min(j.offset,it.length()-1);this.quill.setSelection(ht,0,f.Ay.sources.USER)}}else{const it=B.table()[W];it!=null&&(K?this.quill.setSelection(it.offset(this.quill.scroll)+it.length()-1,0,f.Ay.sources.USER):this.quill.setSelection(it.offset(this.quill.scroll),0,f.Ay.sources.USER))}return!1}}}function st(K){let{quill:p,range:j}=K;const W=p.getLines(j);let B={};if(W.length>1){const Z=W[0].formats(),it=W[W.length-1].formats();B=S.AttributeMap.diff(it,Z)||{}}p.deleteText(j,f.Ay.sources.USER),Object.keys(B).length>0&&p.formatLine(j.index,1,B,f.Ay.sources.USER),p.setSelection(j.index,f.Ay.sources.SILENT)}h.DEFAULTS=w},8920:function(G){var C=Object.prototype.hasOwnProperty,e="~";function d(){}function q(f,k,a){this.fn=f,this.context=k,this.once=a||!1}function S(f,k,a,A,O){if(typeof a!="function")throw new TypeError("The listener must be a function");var h=new q(a,A||f,O),w=e?e+k:k;return f._events[w]?f._events[w].fn?f._events[w]=[f._events[w],h]:f._events[w].push(h):(f._events[w]=h,f._eventsCount++),f}function v(f,k){--f._eventsCount==0?f._events=new d:delete f._events[k]}function M(){this._events=new d,this._eventsCount=0}Object.create&&(d.prototype=Object.create(null),new d().__proto__||(e=!1)),M.prototype.eventNames=function(){var f,k,a=[];if(this._eventsCount===0)return a;for(k in f=this._events)C.call(f,k)&&a.push(e?k.slice(1):k);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(f)):a},M.prototype.listeners=function(f){var k=e?e+f:f,a=this._events[k];if(!a)return[];if(a.fn)return[a.fn];for(var A=0,O=a.length,h=new Array(O);A<O;A++)h[A]=a[A].fn;return h},M.prototype.listenerCount=function(f){var k=e?e+f:f,a=this._events[k];return a?a.fn?1:a.length:0},M.prototype.emit=function(f,k,a,A,O,h){var w=e?e+f:f;if(!this._events[w])return!1;var L,_,z=this._events[w],Y=arguments.length;if(z.fn){switch(z.once&&this.removeListener(f,z.fn,void 0,!0),Y){case 1:return z.fn.call(z.context),!0;case 2:return z.fn.call(z.context,k),!0;case 3:return z.fn.call(z.context,k,a),!0;case 4:return z.fn.call(z.context,k,a,A),!0;case 5:return z.fn.call(z.context,k,a,A,O),!0;case 6:return z.fn.call(z.context,k,a,A,O,h),!0}for(_=1,L=new Array(Y-1);_<Y;_++)L[_-1]=arguments[_];z.fn.apply(z.context,L)}else{var st,K=z.length;for(_=0;_<K;_++)switch(z[_].once&&this.removeListener(f,z[_].fn,void 0,!0),Y){case 1:z[_].fn.call(z[_].context);break;case 2:z[_].fn.call(z[_].context,k);break;case 3:z[_].fn.call(z[_].context,k,a);break;case 4:z[_].fn.call(z[_].context,k,a,A);break;default:if(!L)for(st=1,L=new Array(Y-1);st<Y;st++)L[st-1]=arguments[st];z[_].fn.apply(z[_].context,L)}}return!0},M.prototype.on=function(f,k,a){return S(this,f,k,a,!1)},M.prototype.once=function(f,k,a){return S(this,f,k,a,!0)},M.prototype.removeListener=function(f,k,a,A){var O=e?e+f:f;if(!this._events[O])return this;if(!k)return v(this,O),this;var h=this._events[O];if(h.fn)h.fn!==k||A&&!h.once||a&&h.context!==a||v(this,O);else{for(var w=0,L=[],_=h.length;w<_;w++)(h[w].fn!==k||A&&!h[w].once||a&&h[w].context!==a)&&L.push(h[w]);L.length?this._events[O]=L.length===1?L[0]:L:v(this,O)}return this},M.prototype.removeAllListeners=function(f){var k;return f?(k=e?e+f:f,this._events[k]&&v(this,k)):(this._events=new d,this._eventsCount=0),this},M.prototype.off=M.prototype.removeListener,M.prototype.addListener=M.prototype.on,M.prefixed=e,M.EventEmitter=M,G.exports=M},5090:function(G){var C=-1,e=1,d=0;function q(p,j,W,B,Z){if(p===j)return p?[[d,p]]:[];if(W!=null){var it=function(X,lt,y){var t=typeof y=="number"?{index:y,length:0}:y.oldRange,n=typeof y=="number"?null:y.newRange,s=X.length,x=lt.length;if(t.length===0&&(n===null||n.length===0)){var l=t.index,u=X.slice(0,l),N=X.slice(l),T=n?n.index:null,U=l+x-s;if((T===null||T===U)&&!(U<0||U>x)){var m=lt.slice(0,U);if((E=lt.slice(U))===N){var r=Math.min(l,U);if((R=u.slice(0,r))===(H=m.slice(0,r)))return st(R,u.slice(r),m.slice(r),N)}}if(T===null||T===l){var o=l,E=(m=lt.slice(0,o),lt.slice(o));if(m===u){var b=Math.min(s-o,x-o);if((F=N.slice(N.length-b))===(et=E.slice(E.length-b)))return st(u,N.slice(0,N.length-b),E.slice(0,E.length-b),F)}}}if(t.length>0&&n&&n.length===0){var R=X.slice(0,t.index),F=X.slice(t.index+t.length);if(!(x<(r=R.length)+(b=F.length))){var H=lt.slice(0,r),et=lt.slice(x-b);if(R===H&&F===et)return st(R,X.slice(r,s-b),lt.slice(r,x-b),F)}}return null}(p,j,W);if(it)return it}var ot=v(p,j),ht=p.substring(0,ot);ot=f(p=p.substring(ot),j=j.substring(ot));var gt=p.substring(p.length-ot),tt=function(X,lt){var y;if(!X)return[[e,lt]];if(!lt)return[[C,X]];var t=X.length>lt.length?X:lt,n=X.length>lt.length?lt:X,s=t.indexOf(n);if(s!==-1)return y=[[e,t.substring(0,s)],[d,n],[e,t.substring(s+n.length)]],X.length>lt.length&&(y[0][0]=y[2][0]=C),y;if(n.length===1)return[[C,X],[e,lt]];var x=function(o,E){var b=o.length>E.length?o:E,R=o.length>E.length?E:o;if(b.length<4||2*R.length<b.length)return null;function F(pt,xt,Lt){for(var _t,At,jt,St,Ct=pt.substring(Lt,Lt+Math.floor(pt.length/4)),Nt=-1,kt="";(Nt=xt.indexOf(Ct,Nt+1))!==-1;){var It=v(pt.substring(Lt),xt.substring(Nt)),zt=f(pt.substring(0,Lt),xt.substring(0,Nt));kt.length<zt+It&&(kt=xt.substring(Nt-zt,Nt)+xt.substring(Nt,Nt+It),_t=pt.substring(0,Lt-zt),At=pt.substring(Lt+It),jt=xt.substring(0,Nt-zt),St=xt.substring(Nt+It))}return 2*kt.length>=pt.length?[_t,At,jt,St,kt]:null}var H,et,J,nt,at,ut=F(b,R,Math.ceil(b.length/4)),dt=F(b,R,Math.ceil(b.length/2));return ut||dt?(H=dt?ut&&ut[4].length>dt[4].length?ut:dt:ut,o.length>E.length?(et=H[0],J=H[1],nt=H[2],at=H[3]):(nt=H[0],at=H[1],et=H[2],J=H[3]),[et,J,nt,at,H[4]]):null}(X,lt);if(x){var l=x[0],u=x[1],N=x[2],T=x[3],U=x[4],m=q(l,N),r=q(u,T);return m.concat([[d,U]],r)}return function(o,E){for(var b=o.length,R=E.length,F=Math.ceil((b+R)/2),H=F,et=2*F,J=new Array(et),nt=new Array(et),at=0;at<et;at++)J[at]=-1,nt[at]=-1;J[H+1]=0,nt[H+1]=0;for(var ut=b-R,dt=ut%2!=0,pt=0,xt=0,Lt=0,_t=0,At=0;At<F;At++){for(var jt=-At+pt;jt<=At-xt;jt+=2){for(var St=H+jt,Ct=(Tt=jt===-At||jt!==At&&J[St-1]<J[St+1]?J[St+1]:J[St-1]+1)-jt;Tt<b&&Ct<R&&o.charAt(Tt)===E.charAt(Ct);)Tt++,Ct++;if(J[St]=Tt,Tt>b)xt+=2;else if(Ct>R)pt+=2;else if(dt&&(It=H+ut-jt)>=0&&It<et&&nt[It]!==-1&&Tt>=(kt=b-nt[It]))return S(o,E,Tt,Ct)}for(var Nt=-At+Lt;Nt<=At-_t;Nt+=2){for(var kt,It=H+Nt,zt=(kt=Nt===-At||Nt!==At&&nt[It-1]<nt[It+1]?nt[It+1]:nt[It-1]+1)-Nt;kt<b&&zt<R&&o.charAt(b-kt-1)===E.charAt(R-zt-1);)kt++,zt++;if(nt[It]=kt,kt>b)_t+=2;else if(zt>R)Lt+=2;else if(!dt){var Tt;if((St=H+ut-Nt)>=0&&St<et&&J[St]!==-1&&(Ct=H+(Tt=J[St])-St,Tt>=(kt=b-kt)))return S(o,E,Tt,Ct)}}}return[[C,o],[e,E]]}(X,lt)}(p=p.substring(0,p.length-ot),j=j.substring(0,j.length-ot));return ht&&tt.unshift([d,ht]),gt&&tt.push([d,gt]),w(tt,Z),B&&function(X){for(var lt=!1,y=[],t=0,n=null,s=0,x=0,l=0,u=0,N=0;s<X.length;)X[s][0]==d?(y[t++]=s,x=u,l=N,u=0,N=0,n=X[s][1]):(X[s][0]==e?u+=X[s][1].length:N+=X[s][1].length,n&&n.length<=Math.max(x,l)&&n.length<=Math.max(u,N)&&(X.splice(y[t-1],0,[C,n]),X[y[t-1]+1][0]=e,t--,s=--t>0?y[t-1]:-1,x=0,l=0,u=0,N=0,n=null,lt=!0)),s++;for(lt&&w(X),function(o){function E(xt,Lt){if(!xt||!Lt)return 6;var _t=xt.charAt(xt.length-1),At=Lt.charAt(0),jt=_t.match(k),St=At.match(k),Ct=jt&&_t.match(a),Nt=St&&At.match(a),kt=Ct&&_t.match(A),It=Nt&&At.match(A),zt=kt&&xt.match(O),Tt=It&&Lt.match(h);return zt||Tt?5:kt||It?4:jt&&!Ct&&Nt?3:Ct||Nt?2:jt||St?1:0}for(var b=1;b<o.length-1;){if(o[b-1][0]==d&&o[b+1][0]==d){var R=o[b-1][1],F=o[b][1],H=o[b+1][1],et=f(R,F);if(et){var J=F.substring(F.length-et);R=R.substring(0,R.length-et),F=J+F.substring(0,F.length-et),H=J+H}for(var nt=R,at=F,ut=H,dt=E(R,F)+E(F,H);F.charAt(0)===H.charAt(0);){R+=F.charAt(0),F=F.substring(1)+H.charAt(0),H=H.substring(1);var pt=E(R,F)+E(F,H);pt>=dt&&(dt=pt,nt=R,at=F,ut=H)}o[b-1][1]!=nt&&(nt?o[b-1][1]=nt:(o.splice(b-1,1),b--),o[b][1]=at,ut?o[b+1][1]=ut:(o.splice(b+1,1),b--))}b++}}(X),s=1;s<X.length;){if(X[s-1][0]==C&&X[s][0]==e){var T=X[s-1][1],U=X[s][1],m=M(T,U),r=M(U,T);m>=r?(m>=T.length/2||m>=U.length/2)&&(X.splice(s,0,[d,U.substring(0,m)]),X[s-1][1]=T.substring(0,T.length-m),X[s+1][1]=U.substring(m),s++):(r>=T.length/2||r>=U.length/2)&&(X.splice(s,0,[d,T.substring(0,r)]),X[s-1][0]=e,X[s-1][1]=U.substring(0,U.length-r),X[s+1][0]=C,X[s+1][1]=T.substring(r),s++),s++}s++}}(tt),tt}function S(p,j,W,B){var Z=p.substring(0,W),it=j.substring(0,B),ot=p.substring(W),ht=j.substring(B),gt=q(Z,it),tt=q(ot,ht);return gt.concat(tt)}function v(p,j){if(!p||!j||p.charAt(0)!==j.charAt(0))return 0;for(var W=0,B=Math.min(p.length,j.length),Z=B,it=0;W<Z;)p.substring(it,Z)==j.substring(it,Z)?it=W=Z:B=Z,Z=Math.floor((B-W)/2+W);return L(p.charCodeAt(Z-1))&&Z--,Z}function M(p,j){var W=p.length,B=j.length;if(W==0||B==0)return 0;W>B?p=p.substring(W-B):W<B&&(j=j.substring(0,W));var Z=Math.min(W,B);if(p==j)return Z;for(var it=0,ot=1;;){var ht=p.substring(Z-ot),gt=j.indexOf(ht);if(gt==-1)return it;ot+=gt,gt!=0&&p.substring(Z-ot)!=j.substring(0,ot)||(it=ot,ot++)}}function f(p,j){if(!p||!j||p.slice(-1)!==j.slice(-1))return 0;for(var W=0,B=Math.min(p.length,j.length),Z=B,it=0;W<Z;)p.substring(p.length-Z,p.length-it)==j.substring(j.length-Z,j.length-it)?it=W=Z:B=Z,Z=Math.floor((B-W)/2+W);return _(p.charCodeAt(p.length-Z))&&Z--,Z}var k=/[^a-zA-Z0-9]/,a=/\s/,A=/[\r\n]/,O=/\n\r?\n$/,h=/^\r?\n\r?\n/;function w(p,j){p.push([d,""]);for(var W,B=0,Z=0,it=0,ot="",ht="";B<p.length;)if(B<p.length-1&&!p[B][1])p.splice(B,1);else switch(p[B][0]){case e:it++,ht+=p[B][1],B++;break;case C:Z++,ot+=p[B][1],B++;break;case d:var gt=B-it-Z-1;if(j){if(gt>=0&&Y(p[gt][1])){var tt=p[gt][1].slice(-1);if(p[gt][1]=p[gt][1].slice(0,-1),ot=tt+ot,ht=tt+ht,!p[gt][1]){p.splice(gt,1),B--;var X=gt-1;p[X]&&p[X][0]===e&&(it++,ht=p[X][1]+ht,X--),p[X]&&p[X][0]===C&&(Z++,ot=p[X][1]+ot,X--),gt=X}}z(p[B][1])&&(tt=p[B][1].charAt(0),p[B][1]=p[B][1].slice(1),ot+=tt,ht+=tt)}if(B<p.length-1&&!p[B][1]){p.splice(B,1);break}if(ot.length>0||ht.length>0){ot.length>0&&ht.length>0&&((W=v(ht,ot))!==0&&(gt>=0?p[gt][1]+=ht.substring(0,W):(p.splice(0,0,[d,ht.substring(0,W)]),B++),ht=ht.substring(W),ot=ot.substring(W)),(W=f(ht,ot))!==0&&(p[B][1]=ht.substring(ht.length-W)+p[B][1],ht=ht.substring(0,ht.length-W),ot=ot.substring(0,ot.length-W)));var lt=it+Z;ot.length===0&&ht.length===0?(p.splice(B-lt,lt),B-=lt):ot.length===0?(p.splice(B-lt,lt,[e,ht]),B=B-lt+1):ht.length===0?(p.splice(B-lt,lt,[C,ot]),B=B-lt+1):(p.splice(B-lt,lt,[C,ot],[e,ht]),B=B-lt+2)}B!==0&&p[B-1][0]===d?(p[B-1][1]+=p[B][1],p.splice(B,1)):B++,it=0,Z=0,ot="",ht=""}p[p.length-1][1]===""&&p.pop();var y=!1;for(B=1;B<p.length-1;)p[B-1][0]===d&&p[B+1][0]===d&&(p[B][1].substring(p[B][1].length-p[B-1][1].length)===p[B-1][1]?(p[B][1]=p[B-1][1]+p[B][1].substring(0,p[B][1].length-p[B-1][1].length),p[B+1][1]=p[B-1][1]+p[B+1][1],p.splice(B-1,1),y=!0):p[B][1].substring(0,p[B+1][1].length)==p[B+1][1]&&(p[B-1][1]+=p[B+1][1],p[B][1]=p[B][1].substring(p[B+1][1].length)+p[B+1][1],p.splice(B+1,1),y=!0)),B++;y&&w(p,j)}function L(p){return p>=55296&&p<=56319}function _(p){return p>=56320&&p<=57343}function z(p){return _(p.charCodeAt(0))}function Y(p){return L(p.charCodeAt(p.length-1))}function st(p,j,W,B){return Y(p)||z(B)?null:function(Z){for(var it=[],ot=0;ot<Z.length;ot++)Z[ot][1].length>0&&it.push(Z[ot]);return it}([[d,p],[C,j],[e,W],[d,B]])}function K(p,j,W,B){return q(p,j,W,B,!0)}K.INSERT=e,K.DELETE=C,K.EQUAL=d,G.exports=K},9629:function(G,C,e){G=e.nmd(G);var d="__lodash_hash_undefined__",q=9007199254740991,S="[object Arguments]",v="[object Boolean]",M="[object Date]",f="[object Function]",k="[object GeneratorFunction]",a="[object Map]",A="[object Number]",O="[object Object]",h="[object Promise]",w="[object RegExp]",L="[object Set]",_="[object String]",z="[object Symbol]",Y="[object WeakMap]",st="[object ArrayBuffer]",K="[object DataView]",p="[object Float32Array]",j="[object Float64Array]",W="[object Int8Array]",B="[object Int16Array]",Z="[object Int32Array]",it="[object Uint8Array]",ot="[object Uint8ClampedArray]",ht="[object Uint16Array]",gt="[object Uint32Array]",tt=/\w*$/,X=/^\[object .+?Constructor\]$/,lt=/^(?:0|[1-9]\d*)$/,y={};y[S]=y["[object Array]"]=y[st]=y[K]=y[v]=y[M]=y[p]=y[j]=y[W]=y[B]=y[Z]=y[a]=y[A]=y[O]=y[w]=y[L]=y[_]=y[z]=y[it]=y[ot]=y[ht]=y[gt]=!0,y["[object Error]"]=y[f]=y[Y]=!1;var t=typeof e.g=="object"&&e.g&&e.g.Object===Object&&e.g,n=typeof self=="object"&&self&&self.Object===Object&&self,s=t||n||Function("return this")(),x=C&&!C.nodeType&&C,l=x&&G&&!G.nodeType&&G,u=l&&l.exports===x;function N(P,g){return P.set(g[0],g[1]),P}function T(P,g){return P.add(g),P}function U(P,g,I,V){var ct=-1,wt=P?P.length:0;for(V;++ct<wt;)I=g(I,P[ct],ct,P);return I}function m(P){var g=!1;if(P!=null&&typeof P.toString!="function")try{g=!!(P+"")}catch{}return g}function r(P){var g=-1,I=Array(P.size);return P.forEach(function(V,ct){I[++g]=[ct,V]}),I}function o(P,g){return function(I){return P(g(I))}}function E(P){var g=-1,I=Array(P.size);return P.forEach(function(V){I[++g]=V}),I}var b,R=Array.prototype,F=Function.prototype,H=Object.prototype,et=s["__core-js_shared__"],J=(b=/[^.]+$/.exec(et&&et.keys&&et.keys.IE_PROTO||""))?"Symbol(src)_1."+b:"",nt=F.toString,at=H.hasOwnProperty,ut=H.toString,dt=RegExp("^"+nt.call(at).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pt=u?s.Buffer:void 0,xt=s.Symbol,Lt=s.Uint8Array,_t=o(Object.getPrototypeOf,Object),At=Object.create,jt=H.propertyIsEnumerable,St=R.splice,Ct=Object.getOwnPropertySymbols,Nt=pt?pt.isBuffer:void 0,kt=o(Object.keys,Object),It=le(s,"DataView"),zt=le(s,"Map"),Tt=le(s,"Promise"),ye=le(s,"Set"),ke=le(s,"WeakMap"),ge=le(Object,"create"),Te=Q(It),_e=Q(zt),Se=Q(Tt),he=Q(ye),ce=Q(ke),Gt=xt?xt.prototype:void 0,ie=Gt?Gt.valueOf:void 0;function ne(P){var g=-1,I=P?P.length:0;for(this.clear();++g<I;){var V=P[g];this.set(V[0],V[1])}}function Ft(P){var g=-1,I=P?P.length:0;for(this.clear();++g<I;){var V=P[g];this.set(V[0],V[1])}}function re(P){var g=-1,I=P?P.length:0;for(this.clear();++g<I;){var V=P[g];this.set(V[0],V[1])}}function se(P){this.__data__=new Ft(P)}function ve(P,g,I){var V=P[g];at.call(P,g)&&rt(V,I)&&(I!==void 0||g in P)||(P[g]=I)}function fe(P,g){for(var I=P.length;I--;)if(rt(P[I][0],g))return I;return-1}function Ae(P,g,I,V,ct,wt,bt){var vt;if(V&&(vt=wt?V(P,ct,wt,bt):V(P)),vt!==void 0)return vt;if(!$t(P))return P;var Dt=mt(P);if(Dt){if(vt=function(yt){var qt=yt.length,Rt=yt.constructor(qt);return qt&&typeof yt[0]=="string"&&at.call(yt,"index")&&(Rt.index=yt.index,Rt.input=yt.input),Rt}(P),!g)return function(yt,qt){var Rt=-1,Wt=yt.length;for(qt||(qt=Array(Wt));++Rt<Wt;)qt[Rt]=yt[Rt];return qt}(P,vt)}else{var Mt=i(P),Zt=Mt==f||Mt==k;if(Ht(P))return function(yt,qt){if(qt)return yt.slice();var Rt=new yt.constructor(yt.length);return yt.copy(Rt),Rt}(P,g);if(Mt==O||Mt==S||Zt&&!wt){if(m(P))return wt?P:{};if(vt=function(yt){return typeof yt.constructor!="function"||D(yt)?{}:$t(qt=_t(yt))?At(qt):{};var qt}(Zt?{}:P),!g)return function(yt,qt){return oe(yt,$(yt),qt)}(P,function(yt,qt){return yt&&oe(qt,Jt(qt),yt)}(vt,P))}else{if(!y[Mt])return wt?P:{};vt=function(yt,qt,Rt,Wt){var pe,ae=yt.constructor;switch(qt){case st:return xe(yt);case v:case M:return new ae(+yt);case K:return function(Bt,te){var de=te?xe(Bt.buffer):Bt.buffer;return new Bt.constructor(de,Bt.byteOffset,Bt.byteLength)}(yt,Wt);case p:case j:case W:case B:case Z:case it:case ot:case ht:case gt:return function(Bt,te){var de=te?xe(Bt.buffer):Bt.buffer;return new Bt.constructor(de,Bt.byteOffset,Bt.length)}(yt,Wt);case a:return function(Bt,te,de){return U(te?de(r(Bt),!0):r(Bt),N,new Bt.constructor)}(yt,Wt,Rt);case A:case _:return new ae(yt);case w:return function(Bt){var te=new Bt.constructor(Bt.source,tt.exec(Bt));return te.lastIndex=Bt.lastIndex,te}(yt);case L:return function(Bt,te,de){return U(te?de(E(Bt),!0):E(Bt),T,new Bt.constructor)}(yt,Wt,Rt);case z:return pe=yt,ie?Object(ie.call(pe)):{}}}(P,Mt,Ae,g)}}bt||(bt=new se);var Vt=bt.get(P);if(Vt)return Vt;if(bt.set(P,vt),!Dt)var Kt=I?function(yt){return function(qt,Rt,Wt){var pe=Rt(qt);return mt(qt)?pe:function(ae,Bt){for(var te=-1,de=Bt.length,Fe=ae.length;++te<de;)ae[Fe+te]=Bt[te];return ae}(pe,Wt(qt))}(yt,Jt,$)}(P):Jt(P);return function(yt,qt){for(var Rt=-1,Wt=yt?yt.length:0;++Rt<Wt&&qt(yt[Rt],Rt)!==!1;);}(Kt||P,function(yt,qt){Kt&&(yt=P[qt=yt]),ve(vt,qt,Ae(yt,g,I,V,qt,P,bt))}),vt}function xe(P){var g=new P.constructor(P.byteLength);return new Lt(g).set(new Lt(P)),g}function oe(P,g,I,V){I||(I={});for(var ct=-1,wt=g.length;++ct<wt;){var bt=g[ct],vt=void 0;ve(I,bt,vt===void 0?P[bt]:vt)}return I}function ee(P,g){var I,V,ct=P.__data__;return((V=typeof(I=g))=="string"||V=="number"||V=="symbol"||V=="boolean"?I!=="__proto__":I===null)?ct[typeof g=="string"?"string":"hash"]:ct.map}function le(P,g){var I=function(V,ct){return V==null?void 0:V[ct]}(P,g);return function(V){return!(!$t(V)||(ct=V,J&&J in ct))&&(Xt(V)||m(V)?dt:X).test(Q(V));var ct}(I)?I:void 0}ne.prototype.clear=function(){this.__data__=ge?ge(null):{}},ne.prototype.delete=function(P){return this.has(P)&&delete this.__data__[P]},ne.prototype.get=function(P){var g=this.__data__;if(ge){var I=g[P];return I===d?void 0:I}return at.call(g,P)?g[P]:void 0},ne.prototype.has=function(P){var g=this.__data__;return ge?g[P]!==void 0:at.call(g,P)},ne.prototype.set=function(P,g){return this.__data__[P]=ge&&g===void 0?d:g,this},Ft.prototype.clear=function(){this.__data__=[]},Ft.prototype.delete=function(P){var g=this.__data__,I=fe(g,P);return!(I<0||(I==g.length-1?g.pop():St.call(g,I,1),0))},Ft.prototype.get=function(P){var g=this.__data__,I=fe(g,P);return I<0?void 0:g[I][1]},Ft.prototype.has=function(P){return fe(this.__data__,P)>-1},Ft.prototype.set=function(P,g){var I=this.__data__,V=fe(I,P);return V<0?I.push([P,g]):I[V][1]=g,this},re.prototype.clear=function(){this.__data__={hash:new ne,map:new(zt||Ft),string:new ne}},re.prototype.delete=function(P){return ee(this,P).delete(P)},re.prototype.get=function(P){return ee(this,P).get(P)},re.prototype.has=function(P){return ee(this,P).has(P)},re.prototype.set=function(P,g){return ee(this,P).set(P,g),this},se.prototype.clear=function(){this.__data__=new Ft},se.prototype.delete=function(P){return this.__data__.delete(P)},se.prototype.get=function(P){return this.__data__.get(P)},se.prototype.has=function(P){return this.__data__.has(P)},se.prototype.set=function(P,g){var I=this.__data__;if(I instanceof Ft){var V=I.__data__;if(!zt||V.length<199)return V.push([P,g]),this;I=this.__data__=new re(V)}return I.set(P,g),this};var $=Ct?o(Ct,Object):function(){return[]},i=function(P){return ut.call(P)};function c(P,g){return!!(g=g??q)&&(typeof P=="number"||lt.test(P))&&P>-1&&P%1==0&&P<g}function D(P){var g=P&&P.constructor;return P===(typeof g=="function"&&g.prototype||H)}function Q(P){if(P!=null){try{return nt.call(P)}catch{}try{return P+""}catch{}}return""}function rt(P,g){return P===g||P!=P&&g!=g}(It&&i(new It(new ArrayBuffer(1)))!=K||zt&&i(new zt)!=a||Tt&&i(Tt.resolve())!=h||ye&&i(new ye)!=L||ke&&i(new ke)!=Y)&&(i=function(P){var g=ut.call(P),I=g==O?P.constructor:void 0,V=I?Q(I):void 0;if(V)switch(V){case Te:return K;case _e:return a;case Se:return h;case he:return L;case ce:return Y}return g});var mt=Array.isArray;function Et(P){return P!=null&&function(g){return typeof g=="number"&&g>-1&&g%1==0&&g<=q}(P.length)&&!Xt(P)}var Ht=Nt||function(){return!1};function Xt(P){var g=$t(P)?ut.call(P):"";return g==f||g==k}function $t(P){var g=typeof P;return!!P&&(g=="object"||g=="function")}function Jt(P){return Et(P)?function(g,I){var V=mt(g)||function(vt){return function(Dt){return function(Mt){return!!Mt&&typeof Mt=="object"}(Dt)&&Et(Dt)}(vt)&&at.call(vt,"callee")&&(!jt.call(vt,"callee")||ut.call(vt)==S)}(g)?function(vt,Dt){for(var Mt=-1,Zt=Array(vt);++Mt<vt;)Zt[Mt]=Dt(Mt);return Zt}(g.length,String):[],ct=V.length,wt=!!ct;for(var bt in g)!at.call(g,bt)||wt&&(bt=="length"||c(bt,ct))||V.push(bt);return V}(P):function(g){if(!D(g))return kt(g);var I=[];for(var V in Object(g))at.call(g,V)&&V!="constructor"&&I.push(V);return I}(P)}G.exports=function(P){return Ae(P,!0,!0)}},4162:function(G,C,e){G=e.nmd(G);var d="__lodash_hash_undefined__",q=1,S=2,v=9007199254740991,M="[object Arguments]",f="[object Array]",k="[object AsyncFunction]",a="[object Boolean]",A="[object Date]",O="[object Error]",h="[object Function]",w="[object GeneratorFunction]",L="[object Map]",_="[object Number]",z="[object Null]",Y="[object Object]",st="[object Promise]",K="[object Proxy]",p="[object RegExp]",j="[object Set]",W="[object String]",B="[object Undefined]",Z="[object WeakMap]",it="[object ArrayBuffer]",ot="[object DataView]",ht=/^\[object .+?Constructor\]$/,gt=/^(?:0|[1-9]\d*)$/,tt={};tt["[object Float32Array]"]=tt["[object Float64Array]"]=tt["[object Int8Array]"]=tt["[object Int16Array]"]=tt["[object Int32Array]"]=tt["[object Uint8Array]"]=tt["[object Uint8ClampedArray]"]=tt["[object Uint16Array]"]=tt["[object Uint32Array]"]=!0,tt[M]=tt[f]=tt[it]=tt[a]=tt[ot]=tt[A]=tt[O]=tt[h]=tt[L]=tt[_]=tt[Y]=tt[p]=tt[j]=tt[W]=tt[Z]=!1;var X=typeof e.g=="object"&&e.g&&e.g.Object===Object&&e.g,lt=typeof self=="object"&&self&&self.Object===Object&&self,y=X||lt||Function("return this")(),t=C&&!C.nodeType&&C,n=t&&G&&!G.nodeType&&G,s=n&&n.exports===t,x=s&&X.process,l=function(){try{return x&&x.binding&&x.binding("util")}catch{}}(),u=l&&l.isTypedArray;function N(g,I){for(var V=-1,ct=g==null?0:g.length;++V<ct;)if(I(g[V],V,g))return!0;return!1}function T(g){var I=-1,V=Array(g.size);return g.forEach(function(ct,wt){V[++I]=[wt,ct]}),V}function U(g){var I=-1,V=Array(g.size);return g.forEach(function(ct){V[++I]=ct}),V}var m,r,o,E=Array.prototype,b=Function.prototype,R=Object.prototype,F=y["__core-js_shared__"],H=b.toString,et=R.hasOwnProperty,J=(m=/[^.]+$/.exec(F&&F.keys&&F.keys.IE_PROTO||""))?"Symbol(src)_1."+m:"",nt=R.toString,at=RegExp("^"+H.call(et).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ut=s?y.Buffer:void 0,dt=y.Symbol,pt=y.Uint8Array,xt=R.propertyIsEnumerable,Lt=E.splice,_t=dt?dt.toStringTag:void 0,At=Object.getOwnPropertySymbols,jt=ut?ut.isBuffer:void 0,St=(r=Object.keys,o=Object,function(g){return r(o(g))}),Ct=ee(y,"DataView"),Nt=ee(y,"Map"),kt=ee(y,"Promise"),It=ee(y,"Set"),zt=ee(y,"WeakMap"),Tt=ee(Object,"create"),ye=c(Ct),ke=c(Nt),ge=c(kt),Te=c(It),_e=c(zt),Se=dt?dt.prototype:void 0,he=Se?Se.valueOf:void 0;function ce(g){var I=-1,V=g==null?0:g.length;for(this.clear();++I<V;){var ct=g[I];this.set(ct[0],ct[1])}}function Gt(g){var I=-1,V=g==null?0:g.length;for(this.clear();++I<V;){var ct=g[I];this.set(ct[0],ct[1])}}function ie(g){var I=-1,V=g==null?0:g.length;for(this.clear();++I<V;){var ct=g[I];this.set(ct[0],ct[1])}}function ne(g){var I=-1,V=g==null?0:g.length;for(this.__data__=new ie;++I<V;)this.add(g[I])}function Ft(g){var I=this.__data__=new Gt(g);this.size=I.size}function re(g,I){for(var V=g.length;V--;)if(D(g[V][0],I))return V;return-1}function se(g){return g==null?g===void 0?B:z:_t&&_t in Object(g)?function(I){var V=et.call(I,_t),ct=I[_t];try{I[_t]=void 0;var wt=!0}catch{}var bt=nt.call(I);return wt&&(V?I[_t]=ct:delete I[_t]),bt}(g):function(I){return nt.call(I)}(g)}function ve(g){return $t(g)&&se(g)==M}function fe(g,I,V,ct,wt){return g===I||(g==null||I==null||!$t(g)&&!$t(I)?g!=g&&I!=I:function(bt,vt,Dt,Mt,Zt,Vt){var Kt=rt(bt),yt=rt(vt),qt=Kt?f:$(bt),Rt=yt?f:$(vt),Wt=(qt=qt==M?Y:qt)==Y,pe=(Rt=Rt==M?Y:Rt)==Y,ae=qt==Rt;if(ae&&mt(bt)){if(!mt(vt))return!1;Kt=!0,Wt=!1}if(ae&&!Wt)return Vt||(Vt=new Ft),Kt||Jt(bt)?Ae(bt,vt,Dt,Mt,Zt,Vt):function(Pt,Ut,Re,Ne,He,ue,me){switch(Re){case ot:if(Pt.byteLength!=Ut.byteLength||Pt.byteOffset!=Ut.byteOffset)return!1;Pt=Pt.buffer,Ut=Ut.buffer;case it:return!(Pt.byteLength!=Ut.byteLength||!ue(new pt(Pt),new pt(Ut)));case a:case A:case _:return D(+Pt,+Ut);case O:return Pt.name==Ut.name&&Pt.message==Ut.message;case p:case W:return Pt==Ut+"";case L:var Ee=T;case j:var je=Ne&q;if(Ee||(Ee=U),Pt.size!=Ut.size&&!je)return!1;var Le=me.get(Pt);if(Le)return Le==Ut;Ne|=S,me.set(Pt,Ut);var be=Ae(Ee(Pt),Ee(Ut),Ne,He,ue,me);return me.delete(Pt),be;case"[object Symbol]":if(he)return he.call(Pt)==he.call(Ut)}return!1}(bt,vt,qt,Dt,Mt,Zt,Vt);if(!(Dt&q)){var Bt=Wt&&et.call(bt,"__wrapped__"),te=pe&&et.call(vt,"__wrapped__");if(Bt||te){var de=Bt?bt.value():bt,Fe=te?vt.value():vt;return Vt||(Vt=new Ft),Zt(de,Fe,Dt,Mt,Vt)}}return!!ae&&(Vt||(Vt=new Ft),function(Pt,Ut,Re,Ne,He,ue){var me=Re&q,Ee=xe(Pt),je=Ee.length;if(je!=xe(Ut).length&&!me)return!1;for(var Le=je;Le--;){var be=Ee[Le];if(!(me?be in Ut:et.call(Ut,be)))return!1}var Ze=ue.get(Pt);if(Ze&&ue.get(Ut))return Ze==Ut;var Be=!0;ue.set(Pt,Ut),ue.set(Ut,Pt);for(var $e=me;++Le<je;){var Ie=Pt[be=Ee[Le]],Me=Ut[be];if(Ne)var Ge=me?Ne(Me,Ie,be,Ut,Pt,ue):Ne(Ie,Me,be,Pt,Ut,ue);if(!(Ge===void 0?Ie===Me||He(Ie,Me,Re,Ne,ue):Ge)){Be=!1;break}$e||($e=be=="constructor")}if(Be&&!$e){var Ue=Pt.constructor,De=Ut.constructor;Ue==De||!("constructor"in Pt)||!("constructor"in Ut)||typeof Ue=="function"&&Ue instanceof Ue&&typeof De=="function"&&De instanceof De||(Be=!1)}return ue.delete(Pt),ue.delete(Ut),Be}(bt,vt,Dt,Mt,Zt,Vt))}(g,I,V,ct,fe,wt))}function Ae(g,I,V,ct,wt,bt){var vt=V&q,Dt=g.length,Mt=I.length;if(Dt!=Mt&&!(vt&&Mt>Dt))return!1;var Zt=bt.get(g);if(Zt&&bt.get(I))return Zt==I;var Vt=-1,Kt=!0,yt=V&S?new ne:void 0;for(bt.set(g,I),bt.set(I,g);++Vt<Dt;){var qt=g[Vt],Rt=I[Vt];if(ct)var Wt=vt?ct(Rt,qt,Vt,I,g,bt):ct(qt,Rt,Vt,g,I,bt);if(Wt!==void 0){if(Wt)continue;Kt=!1;break}if(yt){if(!N(I,function(pe,ae){if(Bt=ae,!yt.has(Bt)&&(qt===pe||wt(qt,pe,V,ct,bt)))return yt.push(ae);var Bt})){Kt=!1;break}}else if(qt!==Rt&&!wt(qt,Rt,V,ct,bt)){Kt=!1;break}}return bt.delete(g),bt.delete(I),Kt}function xe(g){return function(I,V,ct){var wt=V(I);return rt(I)?wt:function(bt,vt){for(var Dt=-1,Mt=vt.length,Zt=bt.length;++Dt<Mt;)bt[Zt+Dt]=vt[Dt];return bt}(wt,ct(I))}(g,P,le)}function oe(g,I){var V,ct,wt=g.__data__;return((ct=typeof(V=I))=="string"||ct=="number"||ct=="symbol"||ct=="boolean"?V!=="__proto__":V===null)?wt[typeof I=="string"?"string":"hash"]:wt.map}function ee(g,I){var V=function(ct,wt){return ct==null?void 0:ct[wt]}(g,I);return function(ct){return!(!Xt(ct)||function(wt){return!!J&&J in wt}(ct))&&(Et(ct)?at:ht).test(c(ct))}(V)?V:void 0}ce.prototype.clear=function(){this.__data__=Tt?Tt(null):{},this.size=0},ce.prototype.delete=function(g){var I=this.has(g)&&delete this.__data__[g];return this.size-=I?1:0,I},ce.prototype.get=function(g){var I=this.__data__;if(Tt){var V=I[g];return V===d?void 0:V}return et.call(I,g)?I[g]:void 0},ce.prototype.has=function(g){var I=this.__data__;return Tt?I[g]!==void 0:et.call(I,g)},ce.prototype.set=function(g,I){var V=this.__data__;return this.size+=this.has(g)?0:1,V[g]=Tt&&I===void 0?d:I,this},Gt.prototype.clear=function(){this.__data__=[],this.size=0},Gt.prototype.delete=function(g){var I=this.__data__,V=re(I,g);return!(V<0||(V==I.length-1?I.pop():Lt.call(I,V,1),--this.size,0))},Gt.prototype.get=function(g){var I=this.__data__,V=re(I,g);return V<0?void 0:I[V][1]},Gt.prototype.has=function(g){return re(this.__data__,g)>-1},Gt.prototype.set=function(g,I){var V=this.__data__,ct=re(V,g);return ct<0?(++this.size,V.push([g,I])):V[ct][1]=I,this},ie.prototype.clear=function(){this.size=0,this.__data__={hash:new ce,map:new(Nt||Gt),string:new ce}},ie.prototype.delete=function(g){var I=oe(this,g).delete(g);return this.size-=I?1:0,I},ie.prototype.get=function(g){return oe(this,g).get(g)},ie.prototype.has=function(g){return oe(this,g).has(g)},ie.prototype.set=function(g,I){var V=oe(this,g),ct=V.size;return V.set(g,I),this.size+=V.size==ct?0:1,this},ne.prototype.add=ne.prototype.push=function(g){return this.__data__.set(g,d),this},ne.prototype.has=function(g){return this.__data__.has(g)},Ft.prototype.clear=function(){this.__data__=new Gt,this.size=0},Ft.prototype.delete=function(g){var I=this.__data__,V=I.delete(g);return this.size=I.size,V},Ft.prototype.get=function(g){return this.__data__.get(g)},Ft.prototype.has=function(g){return this.__data__.has(g)},Ft.prototype.set=function(g,I){var V=this.__data__;if(V instanceof Gt){var ct=V.__data__;if(!Nt||ct.length<199)return ct.push([g,I]),this.size=++V.size,this;V=this.__data__=new ie(ct)}return V.set(g,I),this.size=V.size,this};var le=At?function(g){return g==null?[]:(g=Object(g),function(I,V){for(var ct=-1,wt=I==null?0:I.length,bt=0,vt=[];++ct<wt;){var Dt=I[ct];Mt=Dt,xt.call(g,Mt)&&(vt[bt++]=Dt)}var Mt;return vt}(At(g)))}:function(){return[]},$=se;function i(g,I){return!!(I=I??v)&&(typeof g=="number"||gt.test(g))&&g>-1&&g%1==0&&g<I}function c(g){if(g!=null){try{return H.call(g)}catch{}try{return g+""}catch{}}return""}function D(g,I){return g===I||g!=g&&I!=I}(Ct&&$(new Ct(new ArrayBuffer(1)))!=ot||Nt&&$(new Nt)!=L||kt&&$(kt.resolve())!=st||It&&$(new It)!=j||zt&&$(new zt)!=Z)&&($=function(g){var I=se(g),V=I==Y?g.constructor:void 0,ct=V?c(V):"";if(ct)switch(ct){case ye:return ot;case ke:return L;case ge:return st;case Te:return j;case _e:return Z}return I});var Q=ve(function(){return arguments}())?ve:function(g){return $t(g)&&et.call(g,"callee")&&!xt.call(g,"callee")},rt=Array.isArray,mt=jt||function(){return!1};function Et(g){if(!Xt(g))return!1;var I=se(g);return I==h||I==w||I==k||I==K}function Ht(g){return typeof g=="number"&&g>-1&&g%1==0&&g<=v}function Xt(g){var I=typeof g;return g!=null&&(I=="object"||I=="function")}function $t(g){return g!=null&&typeof g=="object"}var Jt=u?function(g){return function(I){return g(I)}}(u):function(g){return $t(g)&&Ht(g.length)&&!!tt[se(g)]};function P(g){return(I=g)!=null&&Ht(I.length)&&!Et(I)?function(V,ct){var wt=rt(V),bt=!wt&&Q(V),vt=!wt&&!bt&&mt(V),Dt=!wt&&!bt&&!vt&&Jt(V),Mt=wt||bt||vt||Dt,Zt=Mt?function(yt,qt){for(var Rt=-1,Wt=Array(yt);++Rt<yt;)Wt[Rt]=qt(Rt);return Wt}(V.length,String):[],Vt=Zt.length;for(var Kt in V)!et.call(V,Kt)||Mt&&(Kt=="length"||vt&&(Kt=="offset"||Kt=="parent")||Dt&&(Kt=="buffer"||Kt=="byteLength"||Kt=="byteOffset")||i(Kt,Vt))||Zt.push(Kt);return Zt}(g):function(V){if(wt=(ct=V)&&ct.constructor,ct!==(typeof wt=="function"&&wt.prototype||R))return St(V);var ct,wt,bt=[];for(var vt in Object(V))et.call(V,vt)&&vt!="constructor"&&bt.push(vt);return bt}(g);var I}G.exports=function(g,I){return fe(g,I)}},1270:function(G,C,e){Object.defineProperty(C,"__esModule",{value:!0});const d=e(9629),q=e(4162);var S;(function(v){v.compose=function(M={},f={},k=!1){typeof M!="object"&&(M={}),typeof f!="object"&&(f={});let a=d(f);k||(a=Object.keys(a).reduce((A,O)=>(a[O]!=null&&(A[O]=a[O]),A),{}));for(const A in M)M[A]!==void 0&&f[A]===void 0&&(a[A]=M[A]);return Object.keys(a).length>0?a:void 0},v.diff=function(M={},f={}){typeof M!="object"&&(M={}),typeof f!="object"&&(f={});const k=Object.keys(M).concat(Object.keys(f)).reduce((a,A)=>(q(M[A],f[A])||(a[A]=f[A]===void 0?null:f[A]),a),{});return Object.keys(k).length>0?k:void 0},v.invert=function(M={},f={}){M=M||{};const k=Object.keys(f).reduce((a,A)=>(f[A]!==M[A]&&M[A]!==void 0&&(a[A]=f[A]),a),{});return Object.keys(M).reduce((a,A)=>(M[A]!==f[A]&&f[A]===void 0&&(a[A]=null),a),k)},v.transform=function(M,f,k=!1){if(typeof M!="object")return f;if(typeof f!="object")return;if(!k)return f;const a=Object.keys(f).reduce((A,O)=>(M[O]===void 0&&(A[O]=f[O]),A),{});return Object.keys(a).length>0?a:void 0}})(S||(S={})),C.default=S},5232:function(G,C,e){Object.defineProperty(C,"__esModule",{value:!0}),C.AttributeMap=C.OpIterator=C.Op=void 0;const d=e(5090),q=e(9629),S=e(4162),v=e(1270);C.AttributeMap=v.default;const M=e(4123);C.Op=M.default;const f=e(7033);C.OpIterator=f.default;const k="\0",a=(O,h)=>{if(typeof O!="object"||O===null)throw new Error("cannot retain a "+typeof O);if(typeof h!="object"||h===null)throw new Error("cannot retain a "+typeof h);const w=Object.keys(O)[0];if(!w||w!==Object.keys(h)[0])throw new Error(`embed types not matched: ${w} != ${Object.keys(h)[0]}`);return[w,O[w],h[w]]};class A{constructor(h){Array.isArray(h)?this.ops=h:h!=null&&Array.isArray(h.ops)?this.ops=h.ops:this.ops=[]}static registerEmbed(h,w){this.handlers[h]=w}static unregisterEmbed(h){delete this.handlers[h]}static getHandler(h){const w=this.handlers[h];if(!w)throw new Error(`no handlers for embed type "${h}"`);return w}insert(h,w){const L={};return typeof h=="string"&&h.length===0?this:(L.insert=h,w!=null&&typeof w=="object"&&Object.keys(w).length>0&&(L.attributes=w),this.push(L))}delete(h){return h<=0?this:this.push({delete:h})}retain(h,w){if(typeof h=="number"&&h<=0)return this;const L={retain:h};return w!=null&&typeof w=="object"&&Object.keys(w).length>0&&(L.attributes=w),this.push(L)}push(h){let w=this.ops.length,L=this.ops[w-1];if(h=q(h),typeof L=="object"){if(typeof h.delete=="number"&&typeof L.delete=="number")return this.ops[w-1]={delete:L.delete+h.delete},this;if(typeof L.delete=="number"&&h.insert!=null&&(w-=1,L=this.ops[w-1],typeof L!="object"))return this.ops.unshift(h),this;if(S(h.attributes,L.attributes)){if(typeof h.insert=="string"&&typeof L.insert=="string")return this.ops[w-1]={insert:L.insert+h.insert},typeof h.attributes=="object"&&(this.ops[w-1].attributes=h.attributes),this;if(typeof h.retain=="number"&&typeof L.retain=="number")return this.ops[w-1]={retain:L.retain+h.retain},typeof h.attributes=="object"&&(this.ops[w-1].attributes=h.attributes),this}}return w===this.ops.length?this.ops.push(h):this.ops.splice(w,0,h),this}chop(){const h=this.ops[this.ops.length-1];return h&&typeof h.retain=="number"&&!h.attributes&&this.ops.pop(),this}filter(h){return this.ops.filter(h)}forEach(h){this.ops.forEach(h)}map(h){return this.ops.map(h)}partition(h){const w=[],L=[];return this.forEach(_=>{(h(_)?w:L).push(_)}),[w,L]}reduce(h,w){return this.ops.reduce(h,w)}changeLength(){return this.reduce((h,w)=>w.insert?h+M.default.length(w):w.delete?h-w.delete:h,0)}length(){return this.reduce((h,w)=>h+M.default.length(w),0)}slice(h=0,w=1/0){const L=[],_=new f.default(this.ops);let z=0;for(;z<w&&_.hasNext();){let Y;z<h?Y=_.next(h-z):(Y=_.next(w-z),L.push(Y)),z+=M.default.length(Y)}return new A(L)}compose(h){const w=new f.default(this.ops),L=new f.default(h.ops),_=[],z=L.peek();if(z!=null&&typeof z.retain=="number"&&z.attributes==null){let st=z.retain;for(;w.peekType()==="insert"&&w.peekLength()<=st;)st-=w.peekLength(),_.push(w.next());z.retain-st>0&&L.next(z.retain-st)}const Y=new A(_);for(;w.hasNext()||L.hasNext();)if(L.peekType()==="insert")Y.push(L.next());else if(w.peekType()==="delete")Y.push(w.next());else{const st=Math.min(w.peekLength(),L.peekLength()),K=w.next(st),p=L.next(st);if(p.retain){const j={};if(typeof K.retain=="number")j.retain=typeof p.retain=="number"?st:p.retain;else if(typeof p.retain=="number")K.retain==null?j.insert=K.insert:j.retain=K.retain;else{const B=K.retain==null?"insert":"retain",[Z,it,ot]=a(K[B],p.retain),ht=A.getHandler(Z);j[B]={[Z]:ht.compose(it,ot,B==="retain")}}const W=v.default.compose(K.attributes,p.attributes,typeof K.retain=="number");if(W&&(j.attributes=W),Y.push(j),!L.hasNext()&&S(Y.ops[Y.ops.length-1],j)){const B=new A(w.rest());return Y.concat(B).chop()}}else typeof p.delete=="number"&&(typeof K.retain=="number"||typeof K.retain=="object"&&K.retain!==null)&&Y.push(p)}return Y.chop()}concat(h){const w=new A(this.ops.slice());return h.ops.length>0&&(w.push(h.ops[0]),w.ops=w.ops.concat(h.ops.slice(1))),w}diff(h,w){if(this.ops===h.ops)return new A;const L=[this,h].map(K=>K.map(p=>{if(p.insert!=null)return typeof p.insert=="string"?p.insert:k;throw new Error("diff() called "+(K===h?"on":"with")+" non-document")}).join("")),_=new A,z=d(L[0],L[1],w,!0),Y=new f.default(this.ops),st=new f.default(h.ops);return z.forEach(K=>{let p=K[1].length;for(;p>0;){let j=0;switch(K[0]){case d.INSERT:j=Math.min(st.peekLength(),p),_.push(st.next(j));break;case d.DELETE:j=Math.min(p,Y.peekLength()),Y.next(j),_.delete(j);break;case d.EQUAL:j=Math.min(Y.peekLength(),st.peekLength(),p);const W=Y.next(j),B=st.next(j);S(W.insert,B.insert)?_.retain(j,v.default.diff(W.attributes,B.attributes)):_.push(B).delete(j)}p-=j}}),_.chop()}eachLine(h,w=`
`){const L=new f.default(this.ops);let _=new A,z=0;for(;L.hasNext();){if(L.peekType()!=="insert")return;const Y=L.peek(),st=M.default.length(Y)-L.peekLength(),K=typeof Y.insert=="string"?Y.insert.indexOf(w,st)-st:-1;if(K<0)_.push(L.next());else if(K>0)_.push(L.next(K));else{if(h(_,L.next(1).attributes||{},z)===!1)return;z+=1,_=new A}}_.length()>0&&h(_,{},z)}invert(h){const w=new A;return this.reduce((L,_)=>{if(_.insert)w.delete(M.default.length(_));else{if(typeof _.retain=="number"&&_.attributes==null)return w.retain(_.retain),L+_.retain;if(_.delete||typeof _.retain=="number"){const z=_.delete||_.retain;return h.slice(L,L+z).forEach(Y=>{_.delete?w.push(Y):_.retain&&_.attributes&&w.retain(M.default.length(Y),v.default.invert(_.attributes,Y.attributes))}),L+z}if(typeof _.retain=="object"&&_.retain!==null){const z=h.slice(L,L+1),Y=new f.default(z.ops).next(),[st,K,p]=a(_.retain,Y.insert),j=A.getHandler(st);return w.retain({[st]:j.invert(K,p)},v.default.invert(_.attributes,Y.attributes)),L+1}}return L},0),w.chop()}transform(h,w=!1){if(w=!!w,typeof h=="number")return this.transformPosition(h,w);const L=h,_=new f.default(this.ops),z=new f.default(L.ops),Y=new A;for(;_.hasNext()||z.hasNext();)if(_.peekType()!=="insert"||!w&&z.peekType()==="insert")if(z.peekType()==="insert")Y.push(z.next());else{const st=Math.min(_.peekLength(),z.peekLength()),K=_.next(st),p=z.next(st);if(K.delete)continue;if(p.delete)Y.push(p);else{const j=K.retain,W=p.retain;let B=typeof W=="object"&&W!==null?W:st;if(typeof j=="object"&&j!==null&&typeof W=="object"&&W!==null){const Z=Object.keys(j)[0];if(Z===Object.keys(W)[0]){const it=A.getHandler(Z);it&&(B={[Z]:it.transform(j[Z],W[Z],w)})}}Y.retain(B,v.default.transform(K.attributes,p.attributes,w))}}else Y.retain(M.default.length(_.next()));return Y.chop()}transformPosition(h,w=!1){w=!!w;const L=new f.default(this.ops);let _=0;for(;L.hasNext()&&_<=h;){const z=L.peekLength(),Y=L.peekType();L.next(),Y!=="delete"?(Y==="insert"&&(_<h||!w)&&(h+=z),_+=z):h-=Math.min(z,h-_)}return h}}A.Op=M.default,A.OpIterator=f.default,A.AttributeMap=v.default,A.handlers={},C.default=A,G.exports=A,G.exports.default=A},4123:function(G,C){var e;Object.defineProperty(C,"__esModule",{value:!0}),function(d){d.length=function(q){return typeof q.delete=="number"?q.delete:typeof q.retain=="number"?q.retain:typeof q.retain=="object"&&q.retain!==null?1:typeof q.insert=="string"?q.insert.length:1}}(e||(e={})),C.default=e},7033:function(G,C,e){Object.defineProperty(C,"__esModule",{value:!0});const d=e(4123);C.default=class{constructor(q){this.ops=q,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(q){q||(q=1/0);const S=this.ops[this.index];if(S){const v=this.offset,M=d.default.length(S);if(q>=M-v?(q=M-v,this.index+=1,this.offset=0):this.offset+=q,typeof S.delete=="number")return{delete:q};{const f={};return S.attributes&&(f.attributes=S.attributes),typeof S.retain=="number"?f.retain=q:typeof S.retain=="object"&&S.retain!==null?f.retain=S.retain:typeof S.insert=="string"?f.insert=S.insert.substr(v,q):f.insert=S.insert,f}}return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?d.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const q=this.ops[this.index];return q?typeof q.delete=="number"?"delete":typeof q.retain=="number"||typeof q.retain=="object"&&q.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const q=this.offset,S=this.index,v=this.next(),M=this.ops.slice(this.index);return this.offset=q,this.index=S,[v].concat(M)}}return[]}}},8820:function(G,C,e){e.d(C,{A:function(){return M}});var d=e(8138),q=function(f,k){for(var a=f.length;a--;)if((0,d.A)(f[a][0],k))return a;return-1},S=Array.prototype.splice;function v(f){var k=-1,a=f==null?0:f.length;for(this.clear();++k<a;){var A=f[k];this.set(A[0],A[1])}}v.prototype.clear=function(){this.__data__=[],this.size=0},v.prototype.delete=function(f){var k=this.__data__,a=q(k,f);return!(a<0||(a==k.length-1?k.pop():S.call(k,a,1),--this.size,0))},v.prototype.get=function(f){var k=this.__data__,a=q(k,f);return a<0?void 0:k[a][1]},v.prototype.has=function(f){return q(this.__data__,f)>-1},v.prototype.set=function(f,k){var a=this.__data__,A=q(a,f);return A<0?(++this.size,a.push([f,k])):a[A][1]=k,this};var M=v},2461:function(G,C,e){var d=e(2281),q=e(5507),S=(0,d.A)(q.A,"Map");C.A=S},3558:function(G,C,e){e.d(C,{A:function(){return O}});var d=(0,e(2281).A)(Object,"create"),q=Object.prototype.hasOwnProperty,S=Object.prototype.hasOwnProperty;function v(h){var w=-1,L=h==null?0:h.length;for(this.clear();++w<L;){var _=h[w];this.set(_[0],_[1])}}v.prototype.clear=function(){this.__data__=d?d(null):{},this.size=0},v.prototype.delete=function(h){var w=this.has(h)&&delete this.__data__[h];return this.size-=w?1:0,w},v.prototype.get=function(h){var w=this.__data__;if(d){var L=w[h];return L==="__lodash_hash_undefined__"?void 0:L}return q.call(w,h)?w[h]:void 0},v.prototype.has=function(h){var w=this.__data__;return d?w[h]!==void 0:S.call(w,h)},v.prototype.set=function(h,w){var L=this.__data__;return this.size+=this.has(h)?0:1,L[h]=d&&w===void 0?"__lodash_hash_undefined__":w,this};var M=v,f=e(8820),k=e(2461),a=function(h,w){var L,_,z=h.__data__;return((_=typeof(L=w))=="string"||_=="number"||_=="symbol"||_=="boolean"?L!=="__proto__":L===null)?z[typeof w=="string"?"string":"hash"]:z.map};function A(h){var w=-1,L=h==null?0:h.length;for(this.clear();++w<L;){var _=h[w];this.set(_[0],_[1])}}A.prototype.clear=function(){this.size=0,this.__data__={hash:new M,map:new(k.A||f.A),string:new M}},A.prototype.delete=function(h){var w=a(this,h).delete(h);return this.size-=w?1:0,w},A.prototype.get=function(h){return a(this,h).get(h)},A.prototype.has=function(h){return a(this,h).has(h)},A.prototype.set=function(h,w){var L=a(this,h),_=L.size;return L.set(h,w),this.size+=L.size==_?0:1,this};var O=A},2673:function(G,C,e){e.d(C,{A:function(){return M}});var d=e(8820),q=e(2461),S=e(3558);function v(f){var k=this.__data__=new d.A(f);this.size=k.size}v.prototype.clear=function(){this.__data__=new d.A,this.size=0},v.prototype.delete=function(f){var k=this.__data__,a=k.delete(f);return this.size=k.size,a},v.prototype.get=function(f){return this.__data__.get(f)},v.prototype.has=function(f){return this.__data__.has(f)},v.prototype.set=function(f,k){var a=this.__data__;if(a instanceof d.A){var A=a.__data__;if(!q.A||A.length<199)return A.push([f,k]),this.size=++a.size,this;a=this.__data__=new S.A(A)}return a.set(f,k),this.size=a.size,this};var M=v},439:function(G,C,e){var d=e(5507).A.Symbol;C.A=d},7218:function(G,C,e){var d=e(5507).A.Uint8Array;C.A=d},6753:function(G,C,e){e.d(C,{A:function(){return k}});var d=e(8412),q=e(723),S=e(776),v=e(3767),M=e(5755),f=Object.prototype.hasOwnProperty,k=function(a,A){var O=(0,q.A)(a),h=!O&&(0,d.A)(a),w=!O&&!h&&(0,S.A)(a),L=!O&&!h&&!w&&(0,M.A)(a),_=O||h||w||L,z=_?function(K,p){for(var j=-1,W=Array(K);++j<K;)W[j]=p(j);return W}(a.length,String):[],Y=z.length;for(var st in a)!A&&!f.call(a,st)||_&&(st=="length"||w&&(st=="offset"||st=="parent")||L&&(st=="buffer"||st=="byteLength"||st=="byteOffset")||(0,v.A)(st,Y))||z.push(st);return z}},802:function(G,C){C.A=function(e,d){for(var q=-1,S=d.length,v=e.length;++q<S;)e[v+q]=d[q];return e}},6437:function(G,C,e){var d=e(6770),q=e(8138),S=Object.prototype.hasOwnProperty;C.A=function(v,M,f){var k=v[M];S.call(v,M)&&(0,q.A)(k,f)&&(f!==void 0||M in v)||(0,d.A)(v,M,f)}},6770:function(G,C,e){var d=e(7889);C.A=function(q,S,v){S=="__proto__"&&d.A?(0,d.A)(q,S,{configurable:!0,enumerable:!0,value:v,writable:!0}):q[S]=v}},1381:function(G,C,e){var d=e(802),q=e(723);C.A=function(S,v,M){var f=v(S);return(0,q.A)(S)?f:(0,d.A)(f,M(S))}},2159:function(G,C,e){e.d(C,{A:function(){return a}});var d=e(439),q=Object.prototype,S=q.hasOwnProperty,v=q.toString,M=d.A?d.A.toStringTag:void 0,f=Object.prototype.toString,k=d.A?d.A.toStringTag:void 0,a=function(A){return A==null?A===void 0?"[object Undefined]":"[object Null]":k&&k in Object(A)?function(O){var h=S.call(O,M),w=O[M];try{O[M]=void 0;var L=!0}catch{}var _=v.call(O);return L&&(h?O[M]=w:delete O[M]),_}(A):function(O){return f.call(O)}(A)}},5771:function(G,C){C.A=function(e){return function(d){return e(d)}}},2899:function(G,C,e){var d=e(7218);C.A=function(q){var S=new q.constructor(q.byteLength);return new d.A(S).set(new d.A(q)),S}},3812:function(G,C,e){var d=e(5507),q=Yt&&!Yt.nodeType&&Yt,S=q&&!0&&Qt&&!Qt.nodeType&&Qt,v=S&&S.exports===q?d.A.Buffer:void 0,M=v?v.allocUnsafe:void 0;C.A=function(f,k){if(k)return f.slice();var a=f.length,A=M?M(a):new f.constructor(a);return f.copy(A),A}},1827:function(G,C,e){var d=e(2899);C.A=function(q,S){var v=S?(0,d.A)(q.buffer):q.buffer;return new q.constructor(v,q.byteOffset,q.length)}},4405:function(G,C){C.A=function(e,d){var q=-1,S=e.length;for(d||(d=Array(S));++q<S;)d[q]=e[q];return d}},9601:function(G,C,e){var d=e(6437),q=e(6770);C.A=function(S,v,M,f){var k=!M;M||(M={});for(var a=-1,A=v.length;++a<A;){var O=v[a],h=f?f(M[O],S[O],O,M,S):void 0;h===void 0&&(h=S[O]),k?(0,q.A)(M,O,h):(0,d.A)(M,O,h)}return M}},7889:function(G,C,e){var d=e(2281),q=function(){try{var S=(0,d.A)(Object,"defineProperty");return S({},"",{}),S}catch{}}();C.A=q},9646:function(G,C){var e=typeof Pe=="object"&&Pe&&Pe.Object===Object&&Pe;C.A=e},2816:function(G,C,e){var d=e(1381),q=e(9844),S=e(3169);C.A=function(v){return(0,d.A)(v,S.A,q.A)}},2281:function(G,C,e){e.d(C,{A:function(){return _}});var d,q=e(7572),S=e(5507).A["__core-js_shared__"],v=(d=/[^.]+$/.exec(S&&S.keys&&S.keys.IE_PROTO||""))?"Symbol(src)_1."+d:"",M=e(659),f=e(1543),k=/^\[object .+?Constructor\]$/,a=Function.prototype,A=Object.prototype,O=a.toString,h=A.hasOwnProperty,w=RegExp("^"+O.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),L=function(z){return!(!(0,M.A)(z)||(Y=z,v&&v in Y))&&((0,q.A)(z)?w:k).test((0,f.A)(z));var Y},_=function(z,Y){var st=function(K,p){return K==null?void 0:K[p]}(z,Y);return L(st)?st:void 0}},8769:function(G,C,e){var d=(0,e(2217).A)(Object.getPrototypeOf,Object);C.A=d},9844:function(G,C,e){e.d(C,{A:function(){return v}});var d=e(6935),q=Object.prototype.propertyIsEnumerable,S=Object.getOwnPropertySymbols,v=S?function(M){return M==null?[]:(M=Object(M),function(f,k){for(var a=-1,A=f==null?0:f.length,O=0,h=[];++a<A;){var w=f[a];k(w,a,f)&&(h[O++]=w)}return h}(S(M),function(f){return q.call(M,f)}))}:d.A},7995:function(G,C,e){e.d(C,{A:function(){return W}});var d=e(2281),q=e(5507),S=(0,d.A)(q.A,"DataView"),v=e(2461),M=(0,d.A)(q.A,"Promise"),f=(0,d.A)(q.A,"Set"),k=(0,d.A)(q.A,"WeakMap"),a=e(2159),A=e(1543),O="[object Map]",h="[object Promise]",w="[object Set]",L="[object WeakMap]",_="[object DataView]",z=(0,A.A)(S),Y=(0,A.A)(v.A),st=(0,A.A)(M),K=(0,A.A)(f),p=(0,A.A)(k),j=a.A;(S&&j(new S(new ArrayBuffer(1)))!=_||v.A&&j(new v.A)!=O||M&&j(M.resolve())!=h||f&&j(new f)!=w||k&&j(new k)!=L)&&(j=function(B){var Z=(0,a.A)(B),it=Z=="[object Object]"?B.constructor:void 0,ot=it?(0,A.A)(it):"";if(ot)switch(ot){case z:return _;case Y:return O;case st:return h;case K:return w;case p:return L}return Z});var W=j},1683:function(G,C,e){e.d(C,{A:function(){return f}});var d=e(659),q=Object.create,S=function(){function k(){}return function(a){if(!(0,d.A)(a))return{};if(q)return q(a);k.prototype=a;var A=new k;return k.prototype=void 0,A}}(),v=e(8769),M=e(501),f=function(k){return typeof k.constructor!="function"||(0,M.A)(k)?{}:S((0,v.A)(k))}},3767:function(G,C){var e=/^(?:0|[1-9]\d*)$/;C.A=function(d,q){var S=typeof d;return!!(q=q??9007199254740991)&&(S=="number"||S!="symbol"&&e.test(d))&&d>-1&&d%1==0&&d<q}},501:function(G,C){var e=Object.prototype;C.A=function(d){var q=d&&d.constructor;return d===(typeof q=="function"&&q.prototype||e)}},8795:function(G,C,e){var d=e(9646),q=Yt&&!Yt.nodeType&&Yt,S=q&&!0&&Qt&&!Qt.nodeType&&Qt,v=S&&S.exports===q&&d.A.process,M=function(){try{return S&&S.require&&S.require("util").types||v&&v.binding&&v.binding("util")}catch{}}();C.A=M},2217:function(G,C){C.A=function(e,d){return function(q){return e(d(q))}}},5507:function(G,C,e){var d=e(9646),q=typeof self=="object"&&self&&self.Object===Object&&self,S=d.A||q||Function("return this")();C.A=S},1543:function(G,C){var e=Function.prototype.toString;C.A=function(d){if(d!=null){try{return e.call(d)}catch{}try{return d+""}catch{}}return""}},3707:function(G,C,e){e.d(C,{A:function(){return s}});var d=e(2673),q=e(6437);e(9601),e(3169),e(2624);var S=e(3812);e(4405);var v=e(9844),M=e(802),f=e(8769),k=e(6935);Object.getOwnPropertySymbols||k.A;var a=e(2816);e(1381);var A=e(7995),O=Object.prototype.hasOwnProperty,h=e(2899),w=/\w*$/,L=e(439),_=L.A?L.A.prototype:void 0,z=_?_.valueOf:void 0,Y=e(1827),st=function(x,l,u){var N,T,U,m=x.constructor;switch(l){case"[object ArrayBuffer]":return(0,h.A)(x);case"[object Boolean]":case"[object Date]":return new m(+x);case"[object DataView]":return function(r,o){var E=(0,h.A)(r.buffer);return new r.constructor(E,r.byteOffset,r.byteLength)}(x);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return(0,Y.A)(x,u);case"[object Map]":case"[object Set]":return new m;case"[object Number]":case"[object String]":return new m(x);case"[object RegExp]":return(U=new(T=x).constructor(T.source,w.exec(T))).lastIndex=T.lastIndex,U;case"[object Symbol]":return N=x,z?Object(z.call(N)):{}}},K=e(1683),p=e(723),j=e(776),W=e(7948),B=e(5771),Z=e(8795),it=Z.A&&Z.A.isMap,ot=it?(0,B.A)(it):function(x){return(0,W.A)(x)&&(0,A.A)(x)=="[object Map]"},ht=e(659),gt=Z.A&&Z.A.isSet,tt=gt?(0,B.A)(gt):function(x){return(0,W.A)(x)&&(0,A.A)(x)=="[object Set]"},X="[object Arguments]",lt="[object Function]",y="[object Object]",t={};t[X]=t["[object Array]"]=t["[object ArrayBuffer]"]=t["[object DataView]"]=t["[object Boolean]"]=t["[object Date]"]=t["[object Float32Array]"]=t["[object Float64Array]"]=t["[object Int8Array]"]=t["[object Int16Array]"]=t["[object Int32Array]"]=t["[object Map]"]=t["[object Number]"]=t[y]=t["[object RegExp]"]=t["[object Set]"]=t["[object String]"]=t["[object Symbol]"]=t["[object Uint8Array]"]=t["[object Uint8ClampedArray]"]=t["[object Uint16Array]"]=t["[object Uint32Array]"]=!0,t["[object Error]"]=t[lt]=t["[object WeakMap]"]=!1;var n=function x(l,u,N,T,U,m){var r,o=1&u;if(r!==void 0)return r;if(!(0,ht.A)(l))return l;var E=(0,p.A)(l);if(E)r=function(J){var nt=J.length,at=new J.constructor(nt);return nt&&typeof J[0]=="string"&&O.call(J,"index")&&(at.index=J.index,at.input=J.input),at}(l);else{var b=(0,A.A)(l),R=b==lt||b=="[object GeneratorFunction]";if((0,j.A)(l))return(0,S.A)(l,o);if(b==y||b==X||R&&!U)r=R?{}:(0,K.A)(l);else{if(!t[b])return U?l:{};r=st(l,b,o)}}m||(m=new d.A);var F=m.get(l);if(F)return F;m.set(l,r),tt(l)?l.forEach(function(J){r.add(x(J,u,N,J,l,m))}):ot(l)&&l.forEach(function(J,nt){r.set(nt,x(J,u,N,nt,l,m))});var H=a.A,et=E?void 0:H(l);return function(J,nt){for(var at=-1,ut=J==null?0:J.length;++at<ut&&nt(J[at],at,J)!==!1;);}(et||l,function(J,nt){et&&(J=l[nt=J]),(0,q.A)(r,nt,x(J,u,N,nt,l,m))}),r},s=function(x){return n(x,5)}},8138:function(G,C){C.A=function(e,d){return e===d||e!=e&&d!=d}},8412:function(G,C,e){e.d(C,{A:function(){return a}});var d=e(2159),q=e(7948),S=function(A){return(0,q.A)(A)&&(0,d.A)(A)=="[object Arguments]"},v=Object.prototype,M=v.hasOwnProperty,f=v.propertyIsEnumerable,k=S(function(){return arguments}())?S:function(A){return(0,q.A)(A)&&M.call(A,"callee")&&!f.call(A,"callee")},a=k},723:function(G,C){var e=Array.isArray;C.A=e},3628:function(G,C,e){var d=e(7572),q=e(1628);C.A=function(S){return S!=null&&(0,q.A)(S.length)&&!(0,d.A)(S)}},776:function(G,C,e){e.d(C,{A:function(){return M}});var d=e(5507),q=Yt&&!Yt.nodeType&&Yt,S=q&&!0&&Qt&&!Qt.nodeType&&Qt,v=S&&S.exports===q?d.A.Buffer:void 0,M=(v?v.isBuffer:void 0)||function(){return!1}},5123:function(G,C,e){e.d(C,{A:function(){return gt}});var d=e(2673),q=e(3558);function S(tt){var X=-1,lt=tt==null?0:tt.length;for(this.__data__=new q.A;++X<lt;)this.add(tt[X])}S.prototype.add=S.prototype.push=function(tt){return this.__data__.set(tt,"__lodash_hash_undefined__"),this},S.prototype.has=function(tt){return this.__data__.has(tt)};var v=S,M=function(tt,X){for(var lt=-1,y=tt==null?0:tt.length;++lt<y;)if(X(tt[lt],lt,tt))return!0;return!1},f=function(tt,X,lt,y,t,n){var s=1&lt,x=tt.length,l=X.length;if(x!=l&&!(s&&l>x))return!1;var u=n.get(tt),N=n.get(X);if(u&&N)return u==X&&N==tt;var T=-1,U=!0,m=2&lt?new v:void 0;for(n.set(tt,X),n.set(X,tt);++T<x;){var r=tt[T],o=X[T],E;if(E!==void 0){if(E)continue;U=!1;break}if(m){if(!M(X,function(b,R){if(F=R,!m.has(F)&&(r===b||t(r,b,lt,y,n)))return m.push(R);var F})){U=!1;break}}else if(r!==o&&!t(r,o,lt,y,n)){U=!1;break}}return n.delete(tt),n.delete(X),U},k=e(439),a=e(7218),A=e(8138),O=function(tt){var X=-1,lt=Array(tt.size);return tt.forEach(function(y,t){lt[++X]=[t,y]}),lt},h=function(tt){var X=-1,lt=Array(tt.size);return tt.forEach(function(y){lt[++X]=y}),lt},w=k.A?k.A.prototype:void 0,L=w?w.valueOf:void 0,_=e(2816),z=Object.prototype.hasOwnProperty,Y=e(7995),st=e(723),K=e(776),p=e(5755),j="[object Arguments]",W="[object Array]",B="[object Object]",Z=Object.prototype.hasOwnProperty,it=function(tt,X,lt,y,t,n){var s=(0,st.A)(tt),x=(0,st.A)(X),l=s?W:(0,Y.A)(tt),u=x?W:(0,Y.A)(X),N=(l=l==j?B:l)==B,T=(u=u==j?B:u)==B,U=l==u;if(U&&(0,K.A)(tt)){if(!(0,K.A)(X))return!1;s=!0,N=!1}if(U&&!N)return n||(n=new d.A),s||(0,p.A)(tt)?f(tt,X,lt,y,t,n):function(b,R,F,H,et,J,nt){switch(F){case"[object DataView]":if(b.byteLength!=R.byteLength||b.byteOffset!=R.byteOffset)return!1;b=b.buffer,R=R.buffer;case"[object ArrayBuffer]":return!(b.byteLength!=R.byteLength||!J(new a.A(b),new a.A(R)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,A.A)(+b,+R);case"[object Error]":return b.name==R.name&&b.message==R.message;case"[object RegExp]":case"[object String]":return b==R+"";case"[object Map]":var at=O;case"[object Set]":var ut=1&H;if(at||(at=h),b.size!=R.size&&!ut)return!1;var dt=nt.get(b);if(dt)return dt==R;H|=2,nt.set(b,R);var pt=f(at(b),at(R),H,et,J,nt);return nt.delete(b),pt;case"[object Symbol]":if(L)return L.call(b)==L.call(R)}return!1}(tt,X,l,lt,y,t,n);if(!(1&lt)){var m=N&&Z.call(tt,"__wrapped__"),r=T&&Z.call(X,"__wrapped__");if(m||r){var o=m?tt.value():tt,E=r?X.value():X;return n||(n=new d.A),t(o,E,lt,y,n)}}return!!U&&(n||(n=new d.A),function(b,R,F,H,et,J){var nt=1&F,at=(0,_.A)(b),ut=at.length;if(ut!=(0,_.A)(R).length&&!nt)return!1;for(var dt=ut;dt--;){var pt=at[dt];if(!(nt?pt in R:z.call(R,pt)))return!1}var xt=J.get(b),Lt=J.get(R);if(xt&&Lt)return xt==R&&Lt==b;var _t=!0;J.set(b,R),J.set(R,b);for(var At=nt;++dt<ut;){var jt=b[pt=at[dt]],St=R[pt],Ct;if(!(Ct===void 0?jt===St||et(jt,St,F,H,J):Ct)){_t=!1;break}At||(At=pt=="constructor")}if(_t&&!At){var Nt=b.constructor,kt=R.constructor;Nt==kt||!("constructor"in b)||!("constructor"in R)||typeof Nt=="function"&&Nt instanceof Nt&&typeof kt=="function"&&kt instanceof kt||(_t=!1)}return J.delete(b),J.delete(R),_t}(tt,X,lt,y,t,n))},ot=e(7948),ht=function tt(X,lt,y,t,n){return X===lt||(X==null||lt==null||!(0,ot.A)(X)&&!(0,ot.A)(lt)?X!=X&&lt!=lt:it(X,lt,y,t,tt,n))},gt=function(tt,X){return ht(tt,X)}},7572:function(G,C,e){var d=e(2159),q=e(659);C.A=function(S){if(!(0,q.A)(S))return!1;var v=(0,d.A)(S);return v=="[object Function]"||v=="[object GeneratorFunction]"||v=="[object AsyncFunction]"||v=="[object Proxy]"}},1628:function(G,C){C.A=function(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=9007199254740991}},659:function(G,C){C.A=function(e){var d=typeof e;return e!=null&&(d=="object"||d=="function")}},7948:function(G,C){C.A=function(e){return e!=null&&typeof e=="object"}},5755:function(G,C,e){e.d(C,{A:function(){return a}});var d=e(2159),q=e(1628),S=e(7948),v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v["[object Arguments]"]=v["[object Array]"]=v["[object ArrayBuffer]"]=v["[object Boolean]"]=v["[object DataView]"]=v["[object Date]"]=v["[object Error]"]=v["[object Function]"]=v["[object Map]"]=v["[object Number]"]=v["[object Object]"]=v["[object RegExp]"]=v["[object Set]"]=v["[object String]"]=v["[object WeakMap]"]=!1;var M=e(5771),f=e(8795),k=f.A&&f.A.isTypedArray,a=k?(0,M.A)(k):function(A){return(0,S.A)(A)&&(0,q.A)(A.length)&&!!v[(0,d.A)(A)]}},3169:function(G,C,e){e.d(C,{A:function(){return f}});var d=e(6753),q=e(501),S=(0,e(2217).A)(Object.keys,Object),v=Object.prototype.hasOwnProperty,M=e(3628),f=function(k){return(0,M.A)(k)?(0,d.A)(k):function(a){if(!(0,q.A)(a))return S(a);var A=[];for(var O in Object(a))v.call(a,O)&&O!="constructor"&&A.push(O);return A}(k)}},2624:function(G,C,e){e.d(C,{A:function(){return k}});var d=e(6753),q=e(659),S=e(501),v=Object.prototype.hasOwnProperty,M=function(a){if(!(0,q.A)(a))return function(w){var L=[];if(w!=null)for(var _ in Object(w))L.push(_);return L}(a);var A=(0,S.A)(a),O=[];for(var h in a)(h!="constructor"||!A&&v.call(a,h))&&O.push(h);return O},f=e(3628),k=function(a){return(0,f.A)(a)?(0,d.A)(a,!0):M(a)}},8347:function(G,C,e){e.d(C,{A:function(){return r}});var d,q,S,v,M=e(2673),f=e(6770),k=e(8138),a=function(o,E,b){(b!==void 0&&!(0,k.A)(o[E],b)||b===void 0&&!(E in o))&&(0,f.A)(o,E,b)},A=function(o,E,b){for(var R=-1,F=Object(o),H=b(o),et=H.length;et--;){var J=H[++R];if(E(F[J],J,F)===!1)break}return o},O=e(3812),h=e(1827),w=e(4405),L=e(1683),_=e(8412),z=e(723),Y=e(3628),st=e(7948),K=e(776),p=e(7572),j=e(659),W=e(2159),B=e(8769),Z=Function.prototype,it=Object.prototype,ot=Z.toString,ht=it.hasOwnProperty,gt=ot.call(Object),tt=e(5755),X=function(o,E){if((E!=="constructor"||typeof o[E]!="function")&&E!="__proto__")return o[E]},lt=e(9601),y=e(2624),t=function(o,E,b,R,F,H,et){var J,nt=X(o,b),at=X(E,b),ut=et.get(at);if(ut)a(o,b,ut);else{var dt=void 0,pt=dt===void 0;if(pt){var xt=(0,z.A)(at),Lt=!xt&&(0,K.A)(at),_t=!xt&&!Lt&&(0,tt.A)(at);dt=at,xt||Lt||_t?(0,z.A)(nt)?dt=nt:(J=nt,(0,st.A)(J)&&(0,Y.A)(J)?dt=(0,w.A)(nt):Lt?(pt=!1,dt=(0,O.A)(at,!0)):_t?(pt=!1,dt=(0,h.A)(at,!0)):dt=[]):function(At){if(!(0,st.A)(At)||(0,W.A)(At)!="[object Object]")return!1;var jt=(0,B.A)(At);if(jt===null)return!0;var St=ht.call(jt,"constructor")&&jt.constructor;return typeof St=="function"&&St instanceof St&&ot.call(St)==gt}(at)||(0,_.A)(at)?(dt=nt,(0,_.A)(nt)?dt=function(At){return(0,lt.A)(At,(0,y.A)(At))}(nt):(0,j.A)(nt)&&!(0,p.A)(nt)||(dt=(0,L.A)(at))):pt=!1}pt&&(et.set(at,dt),F(dt,at,R,H,et),et.delete(at)),a(o,b,dt)}},n=function o(E,b,R,F,H){E!==b&&A(b,function(et,J){if(H||(H=new M.A),(0,j.A)(et))t(E,b,J,R,o,F,H);else{var nt=void 0;nt===void 0&&(nt=et),a(E,J,nt)}},y.A)},s=function(o){return o},x=Math.max,l=e(7889),u=l.A?function(o,E){return(0,l.A)(o,"toString",{configurable:!0,enumerable:!1,value:(b=E,function(){return b}),writable:!0});var b}:s,N=Date.now,T=(d=u,q=0,S=0,function(){var o=N(),E=16-(o-S);if(S=o,E>0){if(++q>=800)return arguments[0]}else q=0;return d.apply(void 0,arguments)}),U=function(o,E){return T(function(b,R,F){return R=x(R===void 0?b.length-1:R,0),function(){for(var H=arguments,et=-1,J=x(H.length-R,0),nt=Array(J);++et<J;)nt[et]=H[R+et];et=-1;for(var at=Array(R+1);++et<R;)at[et]=H[et];return at[R]=F(nt),function(ut,dt,pt){switch(pt.length){case 0:return ut.call(dt);case 1:return ut.call(dt,pt[0]);case 2:return ut.call(dt,pt[0],pt[1]);case 3:return ut.call(dt,pt[0],pt[1],pt[2])}return ut.apply(dt,pt)}(b,this,at)}}(o,E,s),o+"")},m=e(3767),r=(v=function(o,E,b){n(o,E,b)},U(function(o,E){var b=-1,R=E.length,F=R>1?E[R-1]:void 0,H=R>2?E[2]:void 0;for(F=v.length>3&&typeof F=="function"?(R--,F):void 0,H&&function(J,nt,at){if(!(0,j.A)(at))return!1;var ut=typeof nt;return!!(ut=="number"?(0,Y.A)(at)&&(0,m.A)(nt,at.length):ut=="string"&&nt in at)&&(0,k.A)(at[nt],J)}(E[0],E[1],H)&&(F=R<3?void 0:F,R=1),o=Object(o);++b<R;){var et=E[b];et&&v(o,et,b)}return o}))},6935:function(G,C){C.A=function(){return[]}},6003:function(G,C,e){e.r(C),e.d(C,{Attributor:function(){return q},AttributorStore:function(){return O},BlockBlot:function(){return B},ClassAttributor:function(){return k},ContainerBlot:function(){return it},EmbedBlot:function(){return ot},InlineBlot:function(){return j},LeafBlot:function(){return _},ParentBlot:function(){return K},Registry:function(){return M},Scope:function(){return d},ScrollBlot:function(){return tt},StyleAttributor:function(){return A},TextBlot:function(){return lt}});var d=(y=>(y[y.TYPE=3]="TYPE",y[y.LEVEL=12]="LEVEL",y[y.ATTRIBUTE=13]="ATTRIBUTE",y[y.BLOT=14]="BLOT",y[y.INLINE=7]="INLINE",y[y.BLOCK=11]="BLOCK",y[y.BLOCK_BLOT=10]="BLOCK_BLOT",y[y.INLINE_BLOT=6]="INLINE_BLOT",y[y.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",y[y.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",y[y.ANY=15]="ANY",y))(d||{});class q{constructor(t,n,s={}){this.attrName=t,this.keyName=n;const x=d.TYPE&d.ATTRIBUTE;this.scope=s.scope!=null?s.scope&d.LEVEL|x:d.ATTRIBUTE,s.whitelist!=null&&(this.whitelist=s.whitelist)}static keys(t){return Array.from(t.attributes).map(n=>n.name)}add(t,n){return!!this.canAdd(t,n)&&(t.setAttribute(this.keyName,n),!0)}canAdd(t,n){return this.whitelist==null||(typeof n=="string"?this.whitelist.indexOf(n.replace(/["']/g,""))>-1:this.whitelist.indexOf(n)>-1)}remove(t){t.removeAttribute(this.keyName)}value(t){const n=t.getAttribute(this.keyName);return this.canAdd(t,n)&&n?n:""}}class S extends Error{constructor(t){super(t="[Parchment] "+t),this.message=t,this.name=this.constructor.name}}const v=class Ve{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(t,n=!1){if(t==null)return null;if(this.blots.has(t))return this.blots.get(t)||null;if(n){let s=null;try{s=t.parentNode}catch{return null}return this.find(s,n)}return null}create(t,n,s){const x=this.query(n);if(x==null)throw new S(`Unable to create ${n} blot`);const l=x,u=n instanceof Node||n.nodeType===Node.TEXT_NODE?n:l.create(s),N=new l(t,u,s);return Ve.blots.set(N.domNode,N),N}find(t,n=!1){return Ve.find(t,n)}query(t,n=d.ANY){let s;return typeof t=="string"?s=this.types[t]||this.attributes[t]:t instanceof Text||t.nodeType===Node.TEXT_NODE?s=this.types.text:typeof t=="number"?t&d.LEVEL&d.BLOCK?s=this.types.block:t&d.LEVEL&d.INLINE&&(s=this.types.inline):t instanceof Element&&((t.getAttribute("class")||"").split(/\s+/).some(x=>(s=this.classes[x],!!s)),s=s||this.tags[t.tagName]),s==null?null:"scope"in s&&n&d.LEVEL&s.scope&&n&d.TYPE&s.scope?s:null}register(...t){return t.map(n=>{const s="blotName"in n,x="attrName"in n;if(!s&&!x)throw new S("Invalid definition");if(s&&n.blotName==="abstract")throw new S("Cannot register abstract class");const l=s?n.blotName:x?n.attrName:void 0;return this.types[l]=n,x?typeof n.keyName=="string"&&(this.attributes[n.keyName]=n):s&&(n.className&&(this.classes[n.className]=n),n.tagName&&(Array.isArray(n.tagName)?n.tagName=n.tagName.map(u=>u.toUpperCase()):n.tagName=n.tagName.toUpperCase(),(Array.isArray(n.tagName)?n.tagName:[n.tagName]).forEach(u=>{(this.tags[u]==null||n.className==null)&&(this.tags[u]=n)}))),n})}};v.blots=new WeakMap;let M=v;function f(y,t){return(y.getAttribute("class")||"").split(/\s+/).filter(n=>n.indexOf(`${t}-`)===0)}const k=class extends q{static keys(y){return(y.getAttribute("class")||"").split(/\s+/).map(t=>t.split("-").slice(0,-1).join("-"))}add(y,t){return!!this.canAdd(y,t)&&(this.remove(y),y.classList.add(`${this.keyName}-${t}`),!0)}remove(y){f(y,this.keyName).forEach(t=>{y.classList.remove(t)}),y.classList.length===0&&y.removeAttribute("class")}value(y){const t=(f(y,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(y,t)?t:""}};function a(y){const t=y.split("-"),n=t.slice(1).map(s=>s[0].toUpperCase()+s.slice(1)).join("");return t[0]+n}const A=class extends q{static keys(y){return(y.getAttribute("style")||"").split(";").map(t=>t.split(":")[0].trim())}add(y,t){return!!this.canAdd(y,t)&&(y.style[a(this.keyName)]=t,!0)}remove(y){y.style[a(this.keyName)]="",y.getAttribute("style")||y.removeAttribute("style")}value(y){const t=y.style[a(this.keyName)];return this.canAdd(y,t)?t:""}},O=class{constructor(y){this.attributes={},this.domNode=y,this.build()}attribute(y,t){t?y.add(this.domNode,t)&&(y.value(this.domNode)!=null?this.attributes[y.attrName]=y:delete this.attributes[y.attrName]):(y.remove(this.domNode),delete this.attributes[y.attrName])}build(){this.attributes={};const y=M.find(this.domNode);if(y==null)return;const t=q.keys(this.domNode),n=k.keys(this.domNode),s=A.keys(this.domNode);t.concat(n).concat(s).forEach(x=>{const l=y.scroll.query(x,d.ATTRIBUTE);l instanceof q&&(this.attributes[l.attrName]=l)})}copy(y){Object.keys(this.attributes).forEach(t=>{const n=this.attributes[t].value(this.domNode);y.format(t,n)})}move(y){this.copy(y),Object.keys(this.attributes).forEach(t=>{this.attributes[t].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((y,t)=>(y[t]=this.attributes[t].value(this.domNode),y),{})}},h=class{constructor(y,t){this.scroll=y,this.domNode=t,M.blots.set(t,this),this.prev=null,this.next=null}static create(y){if(this.tagName==null)throw new S("Blot definition missing tagName");let t,n;return Array.isArray(this.tagName)?(typeof y=="string"?(n=y.toUpperCase(),parseInt(n,10).toString()===n&&(n=parseInt(n,10))):typeof y=="number"&&(n=y),t=typeof n=="number"?document.createElement(this.tagName[n-1]):n&&this.tagName.indexOf(n)>-1?document.createElement(n):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t}get statics(){return this.constructor}attach(){}clone(){const y=this.domNode.cloneNode(!1);return this.scroll.create(y)}detach(){this.parent!=null&&this.parent.removeChild(this),M.blots.delete(this.domNode)}deleteAt(y,t){this.isolate(y,t).remove()}formatAt(y,t,n,s){const x=this.isolate(y,t);if(this.scroll.query(n,d.BLOT)!=null&&s)x.wrap(n,s);else if(this.scroll.query(n,d.ATTRIBUTE)!=null){const l=this.scroll.create(this.statics.scope);x.wrap(l),l.format(n,s)}}insertAt(y,t,n){const s=n==null?this.scroll.create("text",t):this.scroll.create(t,n),x=this.split(y);this.parent.insertBefore(s,x||void 0)}isolate(y,t){const n=this.split(y);if(n==null)throw new Error("Attempt to isolate at end");return n.split(t),n}length(){return 1}offset(y=this.parent){return this.parent==null||this===y?0:this.parent.children.offset(this)+this.parent.offset(y)}optimize(y){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(y,t){const n=typeof y=="string"?this.scroll.create(y,t):y;return this.parent!=null&&(this.parent.insertBefore(n,this.next||void 0),this.remove()),n}split(y,t){return y===0?this:this.next}update(y,t){}wrap(y,t){const n=typeof y=="string"?this.scroll.create(y,t):y;if(this.parent!=null&&this.parent.insertBefore(n,this.next||void 0),typeof n.appendChild!="function")throw new S(`Cannot wrap ${y}`);return n.appendChild(this),n}};h.blotName="abstract";let w=h;const L=class extends w{static value(y){return!0}index(y,t){return this.domNode===y||this.domNode.compareDocumentPosition(y)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1}position(y,t){let n=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return y>0&&(n+=1),[this.parent.domNode,n]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};L.scope=d.INLINE_BLOT;const _=L;class z{constructor(){this.head=null,this.tail=null,this.length=0}append(...t){if(this.insertBefore(t[0],null),t.length>1){const n=t.slice(1);this.append(...n)}}at(t){const n=this.iterator();let s=n();for(;s&&t>0;)t-=1,s=n();return s}contains(t){const n=this.iterator();let s=n();for(;s;){if(s===t)return!0;s=n()}return!1}indexOf(t){const n=this.iterator();let s=n(),x=0;for(;s;){if(s===t)return x;x+=1,s=n()}return-1}insertBefore(t,n){t!=null&&(this.remove(t),t.next=n,n!=null?(t.prev=n.prev,n.prev!=null&&(n.prev.next=t),n.prev=t,n===this.head&&(this.head=t)):this.tail!=null?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)}offset(t){let n=0,s=this.head;for(;s!=null;){if(s===t)return n;n+=s.length(),s=s.next}return-1}remove(t){this.contains(t)&&(t.prev!=null&&(t.prev.next=t.next),t.next!=null&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)}iterator(t=this.head){return()=>{const n=t;return t!=null&&(t=t.next),n}}find(t,n=!1){const s=this.iterator();let x=s();for(;x;){const l=x.length();if(t<l||n&&t===l&&(x.next==null||x.next.length()!==0))return[x,t];t-=l,x=s()}return[null,0]}forEach(t){const n=this.iterator();let s=n();for(;s;)t(s),s=n()}forEachAt(t,n,s){if(n<=0)return;const[x,l]=this.find(t);let u=t-l;const N=this.iterator(x);let T=N();for(;T&&u<t+n;){const U=T.length();t>u?s(T,t-u,Math.min(n,u+U-t)):s(T,0,Math.min(U,t+n-u)),u+=U,T=N()}}map(t){return this.reduce((n,s)=>(n.push(t(s)),n),[])}reduce(t,n){const s=this.iterator();let x=s();for(;x;)n=t(n,x),x=s();return n}}function Y(y,t){const n=t.find(y);if(n)return n;try{return t.create(y)}catch{const s=t.create(d.INLINE);return Array.from(y.childNodes).forEach(x=>{s.domNode.appendChild(x)}),y.parentNode&&y.parentNode.replaceChild(s.domNode,y),s.attach(),s}}const st=class we extends w{constructor(t,n){super(t,n),this.uiNode=null,this.build()}appendChild(t){this.insertBefore(t)}attach(){super.attach(),this.children.forEach(t=>{t.attach()})}attachUI(t){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=t,we.uiClass&&this.uiNode.classList.add(we.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new z,Array.from(this.domNode.childNodes).filter(t=>t!==this.uiNode).reverse().forEach(t=>{try{const n=Y(t,this.scroll);this.insertBefore(n,this.children.head||void 0)}catch(n){if(n instanceof S)return;throw n}})}deleteAt(t,n){if(t===0&&n===this.length())return this.remove();this.children.forEachAt(t,n,(s,x,l)=>{s.deleteAt(x,l)})}descendant(t,n=0){const[s,x]=this.children.find(n);return t.blotName==null&&t(s)||t.blotName!=null&&s instanceof t?[s,x]:s instanceof we?s.descendant(t,x):[null,-1]}descendants(t,n=0,s=Number.MAX_VALUE){let x=[],l=s;return this.children.forEachAt(n,s,(u,N,T)=>{(t.blotName==null&&t(u)||t.blotName!=null&&u instanceof t)&&x.push(u),u instanceof we&&(x=x.concat(u.descendants(t,N,l))),l-=T}),x}detach(){this.children.forEach(t=>{t.detach()}),super.detach()}enforceAllowedChildren(){let t=!1;this.children.forEach(n=>{t||this.statics.allowedChildren.some(s=>n instanceof s)||(n.statics.scope===d.BLOCK_BLOT?(n.next!=null&&this.splitAfter(n),n.prev!=null&&this.splitAfter(n.prev),n.parent.unwrap(),t=!0):n instanceof we?n.unwrap():n.remove())})}formatAt(t,n,s,x){this.children.forEachAt(t,n,(l,u,N)=>{l.formatAt(u,N,s,x)})}insertAt(t,n,s){const[x,l]=this.children.find(t);if(x)x.insertAt(l,n,s);else{const u=s==null?this.scroll.create("text",n):this.scroll.create(n,s);this.appendChild(u)}}insertBefore(t,n){t.parent!=null&&t.parent.children.remove(t);let s=null;this.children.insertBefore(t,n||null),t.parent=this,n!=null&&(s=n.domNode),(this.domNode.parentNode!==t.domNode||this.domNode.nextSibling!==s)&&this.domNode.insertBefore(t.domNode,s),t.attach()}length(){return this.children.reduce((t,n)=>t+n.length(),0)}moveChildren(t,n){this.children.forEach(s=>{t.insertBefore(s,n)})}optimize(t){if(super.optimize(t),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const n=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(n)}else this.remove()}path(t,n=!1){const[s,x]=this.children.find(t,n),l=[[this,t]];return s instanceof we?l.concat(s.path(x,n)):(s!=null&&l.push([s,x]),l)}removeChild(t){this.children.remove(t)}replaceWith(t,n){const s=typeof t=="string"?this.scroll.create(t,n):t;return s instanceof we&&this.moveChildren(s),super.replaceWith(s)}split(t,n=!1){if(!n){if(t===0)return this;if(t===this.length())return this.next}const s=this.clone();return this.parent&&this.parent.insertBefore(s,this.next||void 0),this.children.forEachAt(t,this.length(),(x,l,u)=>{const N=x.split(l,n);N!=null&&s.appendChild(N)}),s}splitAfter(t){const n=this.clone();for(;t.next!=null;)n.appendChild(t.next);return this.parent&&this.parent.insertBefore(n,this.next||void 0),n}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(t,n){const s=[],x=[];t.forEach(l=>{l.target===this.domNode&&l.type==="childList"&&(s.push(...l.addedNodes),x.push(...l.removedNodes))}),x.forEach(l=>{if(l.parentNode!=null&&l.tagName!=="IFRAME"&&document.body.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const u=this.scroll.find(l);u!=null&&(u.domNode.parentNode==null||u.domNode.parentNode===this.domNode)&&u.detach()}),s.filter(l=>l.parentNode===this.domNode&&l!==this.uiNode).sort((l,u)=>l===u?0:l.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(l=>{let u=null;l.nextSibling!=null&&(u=this.scroll.find(l.nextSibling));const N=Y(l,this.scroll);(N.next!==u||N.next==null)&&(N.parent!=null&&N.parent.removeChild(this),this.insertBefore(N,u||void 0))}),this.enforceAllowedChildren()}};st.uiClass="";const K=st,p=class Oe extends K{static create(t){return super.create(t)}static formats(t,n){const s=n.query(Oe.blotName);if(s==null||t.tagName!==s.tagName){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,n){super(t,n),this.attributes=new O(this.domNode)}format(t,n){if(t!==this.statics.blotName||n){const s=this.scroll.query(t,d.INLINE);if(s==null)return;s instanceof q?this.attributes.attribute(s,n):n&&(t!==this.statics.blotName||this.formats()[t]!==n)&&this.replaceWith(t,n)}else this.children.forEach(s=>{s instanceof Oe||(s=s.wrap(Oe.blotName,!0)),this.attributes.copy(s)}),this.unwrap()}formats(){const t=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return n!=null&&(t[this.statics.blotName]=n),t}formatAt(t,n,s,x){this.formats()[s]!=null||this.scroll.query(s,d.ATTRIBUTE)?this.isolate(t,n).format(s,x):super.formatAt(t,n,s,x)}optimize(t){super.optimize(t);const n=this.formats();if(Object.keys(n).length===0)return this.unwrap();const s=this.next;s instanceof Oe&&s.prev===this&&function(x,l){if(Object.keys(x).length!==Object.keys(l).length)return!1;for(const u in x)if(x[u]!==l[u])return!1;return!0}(n,s.formats())&&(s.moveChildren(this),s.remove())}replaceWith(t,n){const s=super.replaceWith(t,n);return this.attributes.copy(s),s}update(t,n){super.update(t,n),t.some(s=>s.target===this.domNode&&s.type==="attributes")&&this.attributes.build()}wrap(t,n){const s=super.wrap(t,n);return s instanceof Oe&&this.attributes.move(s),s}};p.allowedChildren=[p,_],p.blotName="inline",p.scope=d.INLINE_BLOT,p.tagName="SPAN";const j=p,W=class Ke extends K{static create(t){return super.create(t)}static formats(t,n){const s=n.query(Ke.blotName);if(s==null||t.tagName!==s.tagName){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,n){super(t,n),this.attributes=new O(this.domNode)}format(t,n){const s=this.scroll.query(t,d.BLOCK);s!=null&&(s instanceof q?this.attributes.attribute(s,n):t!==this.statics.blotName||n?n&&(t!==this.statics.blotName||this.formats()[t]!==n)&&this.replaceWith(t,n):this.replaceWith(Ke.blotName))}formats(){const t=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return n!=null&&(t[this.statics.blotName]=n),t}formatAt(t,n,s,x){this.scroll.query(s,d.BLOCK)!=null?this.format(s,x):super.formatAt(t,n,s,x)}insertAt(t,n,s){if(s==null||this.scroll.query(n,d.INLINE)!=null)super.insertAt(t,n,s);else{const x=this.split(t);if(x==null)throw new Error("Attempt to insertAt after block boundaries");{const l=this.scroll.create(n,s);x.parent.insertBefore(l,x)}}}replaceWith(t,n){const s=super.replaceWith(t,n);return this.attributes.copy(s),s}update(t,n){super.update(t,n),t.some(s=>s.target===this.domNode&&s.type==="attributes")&&this.attributes.build()}};W.blotName="block",W.scope=d.BLOCK_BLOT,W.tagName="P",W.allowedChildren=[j,W,_];const B=W,Z=class extends K{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(y,t){super.deleteAt(y,t),this.enforceAllowedChildren()}formatAt(y,t,n,s){super.formatAt(y,t,n,s),this.enforceAllowedChildren()}insertAt(y,t,n){super.insertAt(y,t,n),this.enforceAllowedChildren()}optimize(y){super.optimize(y),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};Z.blotName="container",Z.scope=d.BLOCK_BLOT;const it=Z,ot=class extends _{static formats(y,t){}format(y,t){super.formatAt(0,this.length(),y,t)}formatAt(y,t,n,s){y===0&&t===this.length()?this.format(n,s):super.formatAt(y,t,n,s)}formats(){return this.statics.formats(this.domNode,this.scroll)}},ht={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},gt=class extends K{constructor(y,t){super(null,t),this.registry=y,this.scroll=this,this.build(),this.observer=new MutationObserver(n=>{this.update(n)}),this.observer.observe(this.domNode,ht),this.attach()}create(y,t){return this.registry.create(this,y,t)}find(y,t=!1){const n=this.registry.find(y,t);return n?n.scroll===this?n:t?this.find(n.scroll.domNode.parentNode,!0):null:null}query(y,t=d.ANY){return this.registry.query(y,t)}register(...y){return this.registry.register(...y)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(y,t){this.update(),y===0&&t===this.length()?this.children.forEach(n=>{n.remove()}):super.deleteAt(y,t)}formatAt(y,t,n,s){this.update(),super.formatAt(y,t,n,s)}insertAt(y,t,n){this.update(),super.insertAt(y,t,n)}optimize(y=[],t={}){super.optimize(t);const n=t.mutationsMap||new WeakMap;let s=Array.from(this.observer.takeRecords());for(;s.length>0;)y.push(s.pop());const x=(N,T=!0)=>{N==null||N===this||N.domNode.parentNode!=null&&(n.has(N.domNode)||n.set(N.domNode,[]),T&&x(N.parent))},l=N=>{n.has(N.domNode)&&(N instanceof K&&N.children.forEach(l),n.delete(N.domNode),N.optimize(t))};let u=y;for(let N=0;u.length>0;N+=1){if(N>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(u.forEach(T=>{const U=this.find(T.target,!0);U!=null&&(U.domNode===T.target&&(T.type==="childList"?(x(this.find(T.previousSibling,!1)),Array.from(T.addedNodes).forEach(m=>{const r=this.find(m,!1);x(r,!1),r instanceof K&&r.children.forEach(o=>{x(o,!1)})})):T.type==="attributes"&&x(U.prev)),x(U))}),this.children.forEach(l),u=Array.from(this.observer.takeRecords()),s=u.slice();s.length>0;)y.push(s.pop())}}update(y,t={}){y=y||this.observer.takeRecords();const n=new WeakMap;y.map(s=>{const x=this.find(s.target,!0);return x==null?null:n.has(x.domNode)?(n.get(x.domNode).push(s),null):(n.set(x.domNode,[s]),x)}).forEach(s=>{s!=null&&s!==this&&n.has(s.domNode)&&s.update(n.get(s.domNode)||[],t)}),t.mutationsMap=n,n.has(this.domNode)&&super.update(n.get(this.domNode),t),this.optimize(y,t)}};gt.blotName="scroll",gt.defaultChild=B,gt.allowedChildren=[B,it],gt.scope=d.BLOCK_BLOT,gt.tagName="DIV";const tt=gt,X=class Xe extends _{static create(t){return document.createTextNode(t)}static value(t){return t.data}constructor(t,n){super(t,n),this.text=this.statics.value(this.domNode)}deleteAt(t,n){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+n)}index(t,n){return this.domNode===t?n:-1}insertAt(t,n,s){s==null?(this.text=this.text.slice(0,t)+n+this.text.slice(t),this.domNode.data=this.text):super.insertAt(t,n,s)}length(){return this.text.length}optimize(t){super.optimize(t),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof Xe&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(t,n=!1){return[this.domNode,t]}split(t,n=!1){if(!n){if(t===0)return this;if(t===this.length())return this.next}const s=this.scroll.create(this.domNode.splitText(t));return this.parent.insertBefore(s,this.next||void 0),this.text=this.statics.value(this.domNode),s}update(t,n){t.some(s=>s.type==="characterData"&&s.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};X.blotName="text",X.scope=d.INLINE_BLOT;const lt=X}},Ce={};function Ot(G){var C=Ce[G];if(C!==void 0)return C.exports;var e=Ce[G]={id:G,loaded:!1,exports:{}};return qe[G](e,e.exports,Ot),e.loaded=!0,e.exports}Ot.n=function(G){var C=G&&G.__esModule?function(){return G.default}:function(){return G};return Ot.d(C,{a:C}),C},Ot.d=function(G,C){for(var e in C)Ot.o(C,e)&&!Ot.o(G,e)&&Object.defineProperty(G,e,{enumerable:!0,get:C[e]})},Ot.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),Ot.o=function(G,C){return Object.prototype.hasOwnProperty.call(G,C)},Ot.r=function(G){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(G,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(G,"__esModule",{value:!0})},Ot.nmd=function(G){return G.paths=[],G.children||(G.children=[]),G};var We={};return function(){var ee,le;Ot.d(We,{default:function(){return xe}});var G=Ot(3729),C=Ot(8276),e=Ot(7912),d=Ot(6003);class q extends d.ClassAttributor{add(i,c){let D=0;if(c==="+1"||c==="-1"){const Q=this.value(i)||0;D=c==="+1"?Q+1:Q-1}else typeof c=="number"&&(D=c);return D===0?(this.remove(i),!0):super.add(i,D.toString())}canAdd(i,c){return super.canAdd(i,c)||super.canAdd(i,parseInt(c,10))}value(i){return parseInt(super.value(i),10)||void 0}}var S=new q("indent","ql-indent",{scope:d.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]}),v=Ot(9698);class M extends v.Ay{}ft(M,"blotName","blockquote"),ft(M,"tagName","blockquote");var f=M;class k extends v.Ay{static formats(i){return this.tagName.indexOf(i.tagName)+1}}ft(k,"blotName","header"),ft(k,"tagName",["H1","H2","H3","H4","H5","H6"]);var a=k,A=Ot(580),O=Ot(6142);class h extends A.A{}h.blotName="list-container",h.tagName="OL";class w extends v.Ay{static create(i){const c=super.create();return c.setAttribute("data-list",i),c}static formats(i){return i.getAttribute("data-list")||void 0}static register(){O.Ay.register(h)}constructor(i,c){super(i,c);const D=c.ownerDocument.createElement("span"),Q=rt=>{if(!i.isEnabled())return;const mt=this.statics.formats(c,i);mt==="checked"?(this.format("list","unchecked"),rt.preventDefault()):mt==="unchecked"&&(this.format("list","checked"),rt.preventDefault())};D.addEventListener("mousedown",Q),D.addEventListener("touchstart",Q),this.attachUI(D)}format(i,c){i===this.statics.blotName&&c?this.domNode.setAttribute("data-list",c):super.format(i,c)}}w.blotName="list",w.tagName="LI",h.allowedChildren=[w],w.requiredContainer=h;var L=Ot(9541),_=Ot(8638),z=Ot(6772),Y=Ot(664),st=Ot(4850);class K extends st.A{static create(){return super.create()}static formats(){return!0}optimize(i){super.optimize(i),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}ft(K,"blotName","bold"),ft(K,"tagName",["STRONG","B"]);var p=K;class j extends st.A{static create(i){const c=super.create(i);return c.setAttribute("href",this.sanitize(i)),c.setAttribute("rel","noopener noreferrer"),c.setAttribute("target","_blank"),c}static formats(i){return i.getAttribute("href")}static sanitize(i){return W(i,this.PROTOCOL_WHITELIST)?i:this.SANITIZED_URL}format(i,c){i===this.statics.blotName&&c?this.domNode.setAttribute("href",this.constructor.sanitize(c)):super.format(i,c)}}ft(j,"blotName","link"),ft(j,"tagName","A"),ft(j,"SANITIZED_URL","about:blank"),ft(j,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function W($,i){const c=document.createElement("a");c.href=$;const D=c.href.slice(0,c.href.indexOf(":"));return i.indexOf(D)>-1}class B extends st.A{static create(i){return i==="super"?document.createElement("sup"):i==="sub"?document.createElement("sub"):super.create(i)}static formats(i){return i.tagName==="SUB"?"sub":i.tagName==="SUP"?"super":void 0}}ft(B,"blotName","script"),ft(B,"tagName",["SUB","SUP"]);var Z=B;class it extends st.A{}ft(it,"blotName","underline"),ft(it,"tagName","U");var ot=it,ht=Ot(746);class gt extends ht.A{static create(i){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const c=super.create(i);return typeof i=="string"&&(window.katex.render(i,c,{throwOnError:!1,errorColor:"#f00"}),c.setAttribute("data-value",i)),c}static value(i){return i.getAttribute("data-value")}html(){const{formula:i}=this.value();return`<span>${i}</span>`}}ft(gt,"blotName","formula"),ft(gt,"className","ql-formula"),ft(gt,"tagName","SPAN");var tt=gt;const X=["alt","height","width"];class lt extends d.EmbedBlot{static create(i){const c=super.create(i);return typeof i=="string"&&c.setAttribute("src",this.sanitize(i)),c}static formats(i){return X.reduce((c,D)=>(i.hasAttribute(D)&&(c[D]=i.getAttribute(D)),c),{})}static match(i){return/\.(jpe?g|gif|png)$/.test(i)||/^data:image\/.+;base64/.test(i)}static sanitize(i){return W(i,["http","https","data"])?i:"//:0"}static value(i){return i.getAttribute("src")}format(i,c){X.indexOf(i)>-1?c?this.domNode.setAttribute(i,c):this.domNode.removeAttribute(i):super.format(i,c)}}ft(lt,"blotName","image"),ft(lt,"tagName","IMG");var y=lt;const t=["height","width"];class n extends v.zo{static create(i){const c=super.create(i);return c.setAttribute("frameborder","0"),c.setAttribute("allowfullscreen","true"),c.setAttribute("src",this.sanitize(i)),c}static formats(i){return t.reduce((c,D)=>(i.hasAttribute(D)&&(c[D]=i.getAttribute(D)),c),{})}static sanitize(i){return j.sanitize(i)}static value(i){return i.getAttribute("src")}format(i,c){t.indexOf(i)>-1?c?this.domNode.setAttribute(i,c):this.domNode.removeAttribute(i):super.format(i,c)}html(){const{video:i}=this.value();return`<a href="${i}">${i}</a>`}}ft(n,"blotName","video"),ft(n,"className","ql-video"),ft(n,"tagName","IFRAME");var s=n,x=Ot(9404),l=Ot(5232),u=Ot.n(l),N=Ot(4266),T=Ot(3036),U=Ot(4541),m=Ot(5508),r=Ot(584);const o=new d.ClassAttributor("code-token","hljs",{scope:d.Scope.INLINE});class E extends st.A{static formats(i,c){for(;i!=null&&i!==c.domNode;){if(i.classList&&i.classList.contains(x.Ay.className))return super.formats(i,c);i=i.parentNode}}constructor(i,c,D){super(i,c,D),o.add(this.domNode,D)}format(i,c){i!==E.blotName?super.format(i,c):c?o.add(this.domNode,c):(o.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),o.value(this.domNode)||this.unwrap()}}E.blotName="code-token",E.className="ql-token";class b extends x.Ay{static create(i){const c=super.create(i);return typeof i=="string"&&c.setAttribute("data-language",i),c}static formats(i){return i.getAttribute("data-language")||"plain"}static register(){}format(i,c){i===this.statics.blotName&&c?this.domNode.setAttribute("data-language",c):super.format(i,c)}replaceWith(i,c){return this.formatAt(0,this.length(),E.blotName,!1),super.replaceWith(i,c)}}class R extends x.EJ{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(i,c){i===b.blotName&&(this.forceNext=!0,this.children.forEach(D=>{D.format(i,c)}))}formatAt(i,c,D,Q){D===b.blotName&&(this.forceNext=!0),super.formatAt(i,c,D,Q)}highlight(i){let c=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(this.children.head==null)return;const D=`${Array.from(this.domNode.childNodes).filter(rt=>rt!==this.uiNode).map(rt=>rt.textContent).join(`
`)}
`,Q=b.formats(this.children.head.domNode);if(c||this.forceNext||this.cachedText!==D){if(D.trim().length>0||this.cachedText==null){const rt=this.children.reduce((Et,Ht)=>Et.concat((0,v.mG)(Ht,!1)),new(u())),mt=i(D,Q);rt.diff(mt).reduce((Et,Ht)=>{let{retain:Xt,attributes:$t}=Ht;return Xt?($t&&Object.keys($t).forEach(Jt=>{[b.blotName,E.blotName].includes(Jt)&&this.formatAt(Et,Xt,Jt,$t[Jt])}),Et+Xt):Et},0)}this.cachedText=D,this.forceNext=!1}}html(i,c){const[D]=this.children.find(i);return`<pre data-language="${D?b.formats(D.domNode):"plain"}">
${(0,m.X)(this.code(i,c))}
</pre>`}optimize(i){if(super.optimize(i),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const c=b.formats(this.children.head.domNode);c!==this.uiNode.value&&(this.uiNode.value=c)}}}R.allowedChildren=[b],b.requiredContainer=R,b.allowedChildren=[E,U.A,m.A,T.A];class F extends N.A{static register(){O.Ay.register(E,!0),O.Ay.register(b,!0),O.Ay.register(R,!0)}constructor(i,c){if(super(i,c),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((D,Q)=>{let{key:rt}=Q;return D[rt]=!0,D},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(O.Ay.events.SCROLL_BLOT_MOUNT,i=>{if(!(i instanceof R))return;const c=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(D=>{let{key:Q,label:rt}=D;const mt=c.ownerDocument.createElement("option");mt.textContent=rt,mt.setAttribute("value",Q),c.appendChild(mt)}),c.addEventListener("change",()=>{i.format(b.blotName,c.value),this.quill.root.focus(),this.highlight(i,!0)}),i.uiNode==null&&(i.attachUI(c),i.children.head&&(c.value=b.formats(i.children.head.domNode)))})}initTimer(){let i=null;this.quill.on(O.Ay.events.SCROLL_OPTIMIZE,()=>{i&&clearTimeout(i),i=setTimeout(()=>{this.highlight(),i=null},this.options.interval)})}highlight(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,c=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(this.quill.selection.composing)return;this.quill.update(O.Ay.sources.USER);const D=this.quill.getSelection();(i==null?this.quill.scroll.descendants(R):[i]).forEach(Q=>{Q.highlight(this.highlightBlot,c)}),this.quill.update(O.Ay.sources.SILENT),D!=null&&this.quill.setSelection(D,O.Ay.sources.SILENT)}highlightBlot(i){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(c=this.languages[c]?c:"plain",c==="plain")return(0,m.X)(i).split(`
`).reduce((Q,rt,mt)=>(mt!==0&&Q.insert(`
`,{[x.Ay.blotName]:c}),Q.insert(rt)),new(u()));const D=this.quill.root.ownerDocument.createElement("div");return D.classList.add(x.Ay.className),D.innerHTML=((Q,rt,mt)=>{if(typeof Q.versionString=="string"){const Et=Q.versionString.split(".")[0];if(parseInt(Et,10)>=11)return Q.highlight(mt,{language:rt}).value}return Q.highlight(rt,mt).value})(this.options.hljs,c,i),(0,r.hV)(this.quill.scroll,D,[(Q,rt)=>{const mt=o.value(Q);return mt?rt.compose(new(u())().retain(rt.length(),{[E.blotName]:mt})):rt}],[(Q,rt)=>Q.data.split(`
`).reduce((mt,Et,Ht)=>(Ht!==0&&mt.insert(`
`,{[x.Ay.blotName]:c}),mt.insert(Et)),rt)],new WeakMap)}}F.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const oe=class oe extends v.Ay{static create(i){const c=super.create();return i?c.setAttribute("data-row",i):c.setAttribute("data-row",at()),c}static formats(i){if(i.hasAttribute("data-row"))return i.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(i,c){i===oe.blotName&&c?this.domNode.setAttribute("data-row",c):super.format(i,c)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};ft(oe,"blotName","table"),ft(oe,"tagName","TD");let H=oe;class et extends A.A{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const i=this.children.head.formats(),c=this.children.tail.formats(),D=this.next.children.head.formats(),Q=this.next.children.tail.formats();return i.table===c.table&&i.table===D.table&&i.table===Q.table}return!1}optimize(i){super.optimize(i),this.children.forEach(c=>{if(c.next==null)return;const D=c.formats(),Q=c.next.formats();if(D.table!==Q.table){const rt=this.splitAfter(c);rt&&rt.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}ft(et,"blotName","table-row"),ft(et,"tagName","TR");class J extends A.A{}ft(J,"blotName","table-body"),ft(J,"tagName","TBODY");class nt extends A.A{balanceCells(){const i=this.descendants(et),c=i.reduce((D,Q)=>Math.max(Q.children.length,D),0);i.forEach(D=>{new Array(c-D.children.length).fill(0).forEach(()=>{let Q;D.children.head!=null&&(Q=H.formats(D.children.head.domNode));const rt=this.scroll.create(H.blotName,Q);D.appendChild(rt),rt.optimize()})})}cells(i){return this.rows().map(c=>c.children.at(i))}deleteColumn(i){const[c]=this.descendant(J);c!=null&&c.children.head!=null&&c.children.forEach(D=>{const Q=D.children.at(i);Q!=null&&Q.remove()})}insertColumn(i){const[c]=this.descendant(J);c!=null&&c.children.head!=null&&c.children.forEach(D=>{const Q=D.children.at(i),rt=H.formats(D.children.head.domNode),mt=this.scroll.create(H.blotName,rt);D.insertBefore(mt,Q)})}insertRow(i){const[c]=this.descendant(J);if(c==null||c.children.head==null)return;const D=at(),Q=this.scroll.create(et.blotName);c.children.head.children.forEach(()=>{const mt=this.scroll.create(H.blotName,D);Q.appendChild(mt)});const rt=c.children.at(i);c.insertBefore(Q,rt)}rows(){const i=this.children.head;return i==null?[]:i.children.map(c=>c)}}ft(nt,"blotName","table-container"),ft(nt,"tagName","TABLE");function at(){return`row-${Math.random().toString(36).slice(2,6)}`}nt.allowedChildren=[J],J.requiredContainer=nt,J.allowedChildren=[et],et.requiredContainer=J,et.allowedChildren=[H],H.requiredContainer=et;class ut extends N.A{static register(){O.Ay.register(H),O.Ay.register(et),O.Ay.register(J),O.Ay.register(nt)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(nt).forEach(i=>{i.balanceCells()})}deleteColumn(){const[i,,c]=this.getTable();c!=null&&(i.deleteColumn(c.cellOffset()),this.quill.update(O.Ay.sources.USER))}deleteRow(){const[,i]=this.getTable();i!=null&&(i.remove(),this.quill.update(O.Ay.sources.USER))}deleteTable(){const[i]=this.getTable();if(i==null)return;const c=i.offset();i.remove(),this.quill.update(O.Ay.sources.USER),this.quill.setSelection(c,O.Ay.sources.SILENT)}getTable(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(i==null)return[null,null,null,-1];const[c,D]=this.quill.getLine(i.index);if(c==null||c.statics.blotName!==H.blotName)return[null,null,null,-1];const Q=c.parent;return[Q.parent.parent,Q,c,D]}insertColumn(i){const c=this.quill.getSelection();if(!c)return;const[D,Q,rt]=this.getTable(c);if(rt==null)return;const mt=rt.cellOffset();D.insertColumn(mt+i),this.quill.update(O.Ay.sources.USER);let Et=Q.rowOffset();i===0&&(Et+=1),this.quill.setSelection(c.index+Et,c.length,O.Ay.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(i){const c=this.quill.getSelection();if(!c)return;const[D,Q,rt]=this.getTable(c);if(rt==null)return;const mt=Q.rowOffset();D.insertRow(mt+i),this.quill.update(O.Ay.sources.USER),i>0?this.quill.setSelection(c,O.Ay.sources.SILENT):this.quill.setSelection(c.index+Q.children.length,c.length,O.Ay.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(i,c){const D=this.quill.getSelection();if(D==null)return;const Q=new Array(i).fill(0).reduce(rt=>{const mt=new Array(c).fill(`
`).join("");return rt.insert(mt,{table:at()})},new(u())().retain(D.index));this.quill.updateContents(Q,O.Ay.sources.USER),this.quill.setSelection(D.index,O.Ay.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(O.Ay.events.SCROLL_OPTIMIZE,i=>{i.some(c=>!!["TD","TR","TBODY","TABLE"].includes(c.target.tagName)&&(this.quill.once(O.Ay.events.TEXT_CHANGE,(D,Q,rt)=>{rt===O.Ay.sources.USER&&this.balanceTables()}),!0))})}}var dt=ut;const pt=(0,Ot(6078).A)("quill:toolbar");class xt extends N.A{constructor(i,c){var D,Q;if(super(i,c),Array.isArray(this.options.container)){const rt=document.createElement("div");rt.setAttribute("role","toolbar"),function(mt,Et){Array.isArray(Et[0])||(Et=[Et]),Et.forEach(Ht=>{const Xt=document.createElement("span");Xt.classList.add("ql-formats"),Ht.forEach($t=>{if(typeof $t=="string")Lt(Xt,$t);else{const Jt=Object.keys($t)[0],P=$t[Jt];Array.isArray(P)?function(g,I,V){const ct=document.createElement("select");ct.classList.add(`ql-${I}`),V.forEach(wt=>{const bt=document.createElement("option");wt!==!1?bt.setAttribute("value",String(wt)):bt.setAttribute("selected","selected"),ct.appendChild(bt)}),g.appendChild(ct)}(Xt,Jt,P):Lt(Xt,Jt,P)}}),mt.appendChild(Xt)})}(rt,this.options.container),(Q=(D=i.container)==null?void 0:D.parentNode)==null||Q.insertBefore(rt,i.container),this.container=rt}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;this.container instanceof HTMLElement?(this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(rt=>{var Et;const mt=(Et=this.options.handlers)==null?void 0:Et[rt];mt&&this.addHandler(rt,mt)}),Array.from(this.container.querySelectorAll("button, select")).forEach(rt=>{this.attach(rt)}),this.quill.on(O.Ay.events.EDITOR_CHANGE,()=>{const[rt]=this.quill.selection.getRange();this.update(rt)})):pt.error("Container required for toolbar",this.options)}addHandler(i,c){this.handlers[i]=c}attach(i){let c=Array.from(i.classList).find(Q=>Q.indexOf("ql-")===0);if(!c)return;if(c=c.slice(3),i.tagName==="BUTTON"&&i.setAttribute("type","button"),this.handlers[c]==null&&this.quill.scroll.query(c)==null)return void pt.warn("ignoring attaching to nonexistent format",c,i);const D=i.tagName==="SELECT"?"change":"click";i.addEventListener(D,Q=>{let rt;if(i.tagName==="SELECT"){if(i.selectedIndex<0)return;const Et=i.options[i.selectedIndex];rt=!Et.hasAttribute("selected")&&(Et.value||!1)}else rt=!i.classList.contains("ql-active")&&(i.value||!i.hasAttribute("value")),Q.preventDefault();this.quill.focus();const[mt]=this.quill.selection.getRange();if(this.handlers[c]!=null)this.handlers[c].call(this,rt);else if(this.quill.scroll.query(c).prototype instanceof d.EmbedBlot){if(rt=prompt(`Enter ${c}`),!rt)return;this.quill.updateContents(new(u())().retain(mt.index).delete(mt.length).insert({[c]:rt}),O.Ay.sources.USER)}else this.quill.format(c,rt,O.Ay.sources.USER);this.update(mt)}),this.controls.push([c,i])}update(i){const c=i==null?{}:this.quill.getFormat(i);this.controls.forEach(D=>{const[Q,rt]=D;if(rt.tagName==="SELECT"){let mt=null;if(i==null)mt=null;else if(c[Q]==null)mt=rt.querySelector("option[selected]");else if(!Array.isArray(c[Q])){let Et=c[Q];typeof Et=="string"&&(Et=Et.replace(/"/g,'\\"')),mt=rt.querySelector(`option[value="${Et}"]`)}mt==null?(rt.value="",rt.selectedIndex=-1):mt.selected=!0}else if(i==null)rt.classList.remove("ql-active"),rt.setAttribute("aria-pressed","false");else if(rt.hasAttribute("value")){const mt=c[Q],Et=mt===rt.getAttribute("value")||mt!=null&&mt.toString()===rt.getAttribute("value")||mt==null&&!rt.getAttribute("value");rt.classList.toggle("ql-active",Et),rt.setAttribute("aria-pressed",Et.toString())}else{const mt=c[Q]!=null;rt.classList.toggle("ql-active",mt),rt.setAttribute("aria-pressed",mt.toString())}})}}function Lt($,i,c){const D=document.createElement("button");D.setAttribute("type","button"),D.classList.add(`ql-${i}`),D.setAttribute("aria-pressed","false"),c!=null?(D.value=c,D.setAttribute("aria-label",`${i}: ${c}`)):D.setAttribute("aria-label",i),$.appendChild(D)}xt.DEFAULTS={},xt.DEFAULTS={container:null,handlers:{clean(){const $=this.quill.getSelection();if($!=null)if($.length===0){const i=this.quill.getFormat();Object.keys(i).forEach(c=>{this.quill.scroll.query(c,d.Scope.INLINE)!=null&&this.quill.format(c,!1,O.Ay.sources.USER)})}else this.quill.removeFormat($.index,$.length,O.Ay.sources.USER)},direction($){const{align:i}=this.quill.getFormat();$==="rtl"&&i==null?this.quill.format("align","right",O.Ay.sources.USER):$||i!=="right"||this.quill.format("align",!1,O.Ay.sources.USER),this.quill.format("direction",$,O.Ay.sources.USER)},indent($){const i=this.quill.getSelection(),c=this.quill.getFormat(i),D=parseInt(c.indent||0,10);if($==="+1"||$==="-1"){let Q=$==="+1"?1:-1;c.direction==="rtl"&&(Q*=-1),this.quill.format("indent",D+Q,O.Ay.sources.USER)}},link($){$===!0&&($=prompt("Enter link URL:")),this.quill.format("link",$,O.Ay.sources.USER)},list($){const i=this.quill.getSelection(),c=this.quill.getFormat(i);$==="check"?c.list==="checked"||c.list==="unchecked"?this.quill.format("list",!1,O.Ay.sources.USER):this.quill.format("list","unchecked",O.Ay.sources.USER):this.quill.format("list",$,O.Ay.sources.USER)}}};const _t='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>';var At={align:{"":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',center:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',right:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',justify:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>'},background:'<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',blockquote:'<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',bold:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',clean:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',code:_t,"code-block":_t,color:'<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',direction:{"":'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',rtl:'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>'},formula:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',header:{1:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',2:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',3:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',4:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',5:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',6:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>'},italic:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',image:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',indent:{"+1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',"-1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>'},link:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',list:{bullet:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',check:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',ordered:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>'},script:{sub:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',super:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>'},strike:'<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',table:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',underline:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',video:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>'};let jt=0;function St($,i){$.setAttribute(i,`${$.getAttribute(i)!=="true"}`)}var Ct=class{constructor($){this.select=$,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",i=>{switch(i.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),i.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),St(this.label,"aria-expanded"),St(this.options,"aria-hidden")}buildItem($){const i=document.createElement("span");i.tabIndex="0",i.setAttribute("role","button"),i.classList.add("ql-picker-item");const c=$.getAttribute("value");return c&&i.setAttribute("data-value",c),$.textContent&&i.setAttribute("data-label",$.textContent),i.addEventListener("click",()=>{this.selectItem(i,!0)}),i.addEventListener("keydown",D=>{switch(D.key){case"Enter":this.selectItem(i,!0),D.preventDefault();break;case"Escape":this.escape(),D.preventDefault()}}),i}buildLabel(){const $=document.createElement("span");return $.classList.add("ql-picker-label"),$.innerHTML='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>',$.tabIndex="0",$.setAttribute("role","button"),$.setAttribute("aria-expanded","false"),this.container.appendChild($),$}buildOptions(){const $=document.createElement("span");$.classList.add("ql-picker-options"),$.setAttribute("aria-hidden","true"),$.tabIndex="-1",$.id=`ql-picker-options-${jt}`,jt+=1,this.label.setAttribute("aria-controls",$.id),this.options=$,Array.from(this.select.options).forEach(i=>{const c=this.buildItem(i);$.appendChild(c),i.selected===!0&&this.selectItem(c)}),this.container.appendChild($)}buildPicker(){Array.from(this.select.attributes).forEach($=>{this.container.setAttribute($.name,$.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem($){let i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const c=this.container.querySelector(".ql-selected");$!==c&&(c!=null&&c.classList.remove("ql-selected"),$!=null&&($.classList.add("ql-selected"),this.select.selectedIndex=Array.from($.parentNode.children).indexOf($),$.hasAttribute("data-value")?this.label.setAttribute("data-value",$.getAttribute("data-value")):this.label.removeAttribute("data-value"),$.hasAttribute("data-label")?this.label.setAttribute("data-label",$.getAttribute("data-label")):this.label.removeAttribute("data-label"),i&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let $;if(this.select.selectedIndex>-1){const c=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];$=this.select.options[this.select.selectedIndex],this.selectItem(c)}else this.selectItem(null);const i=$!=null&&$!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",i)}},Nt=class extends Ct{constructor($,i){super($),this.label.innerHTML=i,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(c=>{c.classList.add("ql-primary")})}buildItem($){const i=super.buildItem($);return i.style.backgroundColor=$.getAttribute("value")||"",i}selectItem($,i){super.selectItem($,i);const c=this.label.querySelector(".ql-color-label"),D=$&&$.getAttribute("data-value")||"";c&&(c.tagName==="line"?c.style.stroke=D:c.style.fill=D)}},kt=class extends Ct{constructor($,i){super($),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(c=>{c.innerHTML=i[c.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem($,i){super.selectItem($,i);const c=$||this.defaultItem;if(c!=null){if(this.label.innerHTML===c.innerHTML)return;this.label.innerHTML=c.innerHTML}}},It=class{constructor($,i){this.quill=$,this.boundsContainer=i||document.body,this.root=$.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,(c=>{const{overflowY:D}=getComputedStyle(c,null);return D!=="visible"&&D!=="clip"})(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=-1*this.quill.root.scrollTop+"px"}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position($){const i=$.left+$.width/2-this.root.offsetWidth/2,c=$.bottom+this.quill.root.scrollTop;this.root.style.left=`${i}px`,this.root.style.top=`${c}px`,this.root.classList.remove("ql-flip");const D=this.boundsContainer.getBoundingClientRect(),Q=this.root.getBoundingClientRect();let rt=0;if(Q.right>D.right&&(rt=D.right-Q.right,this.root.style.left=`${i+rt}px`),Q.left<D.left&&(rt=D.left-Q.left,this.root.style.left=`${i+rt}px`),Q.bottom>D.bottom){const mt=Q.bottom-Q.top,Et=$.bottom-$.top+mt;this.root.style.top=c-Et+"px",this.root.classList.add("ql-flip")}return rt}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}},zt=Ot(8347),Tt=Ot(5374),ye=Ot(9609);const ke=[!1,"center","right","justify"],ge=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],Te=[!1,"serif","monospace"],_e=["1","2","3",!1],Se=["small",!1,"large","huge"];class he extends ye.A{constructor(i,c){super(i,c);const D=Q=>{document.body.contains(i.root)?(this.tooltip==null||this.tooltip.root.contains(Q.target)||document.activeElement===this.tooltip.textbox||this.quill.hasFocus()||this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(rt=>{rt.container.contains(Q.target)||rt.close()})):document.body.removeEventListener("click",D)};i.emitter.listenDOM("click",document.body,D)}addModule(i){const c=super.addModule(i);return i==="toolbar"&&this.extendToolbar(c),c}buildButtons(i,c){Array.from(i).forEach(D=>{(D.getAttribute("class")||"").split(/\s+/).forEach(Q=>{if(Q.startsWith("ql-")&&(Q=Q.slice(3),c[Q]!=null))if(Q==="direction")D.innerHTML=c[Q][""]+c[Q].rtl;else if(typeof c[Q]=="string")D.innerHTML=c[Q];else{const rt=D.value||"";rt!=null&&c[Q][rt]&&(D.innerHTML=c[Q][rt])}})})}buildPickers(i,c){this.pickers=Array.from(i).map(D=>{if(D.classList.contains("ql-align")&&(D.querySelector("option")==null&&Gt(D,ke),typeof c.align=="object"))return new kt(D,c.align);if(D.classList.contains("ql-background")||D.classList.contains("ql-color")){const Q=D.classList.contains("ql-background")?"background":"color";return D.querySelector("option")==null&&Gt(D,ge,Q==="background"?"#ffffff":"#000000"),new Nt(D,c[Q])}return D.querySelector("option")==null&&(D.classList.contains("ql-font")?Gt(D,Te):D.classList.contains("ql-header")?Gt(D,_e):D.classList.contains("ql-size")&&Gt(D,Se)),new Ct(D)}),this.quill.on(Tt.A.events.EDITOR_CHANGE,()=>{this.pickers.forEach(D=>{D.update()})})}}he.DEFAULTS=(0,zt.A)({},ye.A.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let $=this.container.querySelector("input.ql-image[type=file]");$==null&&($=document.createElement("input"),$.setAttribute("type","file"),$.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),$.classList.add("ql-image"),$.addEventListener("change",()=>{const i=this.quill.getSelection(!0);this.quill.uploader.upload(i,$.files),$.value=""}),this.container.appendChild($)),$.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class ce extends It{constructor(i,c){super(i,c),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",i=>{i.key==="Enter"?(this.save(),i.preventDefault()):i.key==="Escape"&&(this.cancel(),i.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;c!=null?this.textbox.value=c:i!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const D=this.quill.getBounds(this.quill.selection.savedRange);D!=null&&this.position(D),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${i}`)||""),this.root.setAttribute("data-mode",i)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:i}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:c}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",i,Tt.A.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",i,Tt.A.sources.USER)),this.quill.root.scrollTop=c;break}case"video":i=function(c){let D=c.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||c.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return D?`${D[1]||"https"}://www.youtube.com/embed/${D[2]}?showinfo=0`:(D=c.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${D[1]||"https"}://player.vimeo.com/video/${D[2]}/`:c}(i);case"formula":{if(!i)break;const c=this.quill.getSelection(!0);if(c!=null){const D=c.index+c.length;this.quill.insertEmbed(D,this.root.getAttribute("data-mode"),i,Tt.A.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(D+1," ",Tt.A.sources.USER),this.quill.setSelection(D+2,Tt.A.sources.USER)}break}}this.textbox.value="",this.hide()}}function Gt($,i){let c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];i.forEach(D=>{const Q=document.createElement("option");D===c?Q.setAttribute("selected","selected"):Q.setAttribute("value",String(D)),$.appendChild(Q)})}var ie=Ot(8298);const ne=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class Ft extends ce{constructor(i,c){super(i,c),this.quill.on(Tt.A.events.EDITOR_CHANGE,(D,Q,rt,mt)=>{if(D===Tt.A.events.SELECTION_CHANGE)if(Q!=null&&Q.length>0&&mt===Tt.A.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const Et=this.quill.getLines(Q.index,Q.length);if(Et.length===1){const Ht=this.quill.getBounds(Q);Ht!=null&&this.position(Ht)}else{const Ht=Et[Et.length-1],Xt=this.quill.getIndex(Ht),$t=Math.min(Ht.length()-1,Q.index+Q.length-Xt),Jt=this.quill.getBounds(new ie.Q(Xt,$t));Jt!=null&&this.position(Jt)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(Tt.A.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const i=this.quill.getSelection();if(i!=null){const c=this.quill.getBounds(i);c!=null&&this.position(c)}},1)})}cancel(){this.show()}position(i){const c=super.position(i),D=this.root.querySelector(".ql-tooltip-arrow");return D.style.marginLeft="",c!==0&&(D.style.marginLeft=-1*c-D.offsetWidth/2+"px"),c}}ft(Ft,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class re extends he{constructor(i,c){c.modules.toolbar!=null&&c.modules.toolbar.container==null&&(c.modules.toolbar.container=ne),super(i,c),this.quill.container.classList.add("ql-bubble")}extendToolbar(i){this.tooltip=new Ft(this.quill,this.options.bounds),i.container!=null&&(this.tooltip.root.appendChild(i.container),this.buildButtons(i.container.querySelectorAll("button"),At),this.buildPickers(i.container.querySelectorAll("select"),At))}}re.DEFAULTS=(0,zt.A)({},he.DEFAULTS,{modules:{toolbar:{handlers:{link($){$?this.quill.theme.tooltip.edit():this.quill.format("link",!1,O.Ay.sources.USER)}}}}});const se=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class ve extends ce{constructor(){super(...arguments);ft(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",c=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),c.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",c=>{if(this.linkRange!=null){const D=this.linkRange;this.restoreFocus(),this.quill.formatText(D,"link",!1,Tt.A.sources.USER),delete this.linkRange}c.preventDefault(),this.hide()}),this.quill.on(Tt.A.events.SELECTION_CHANGE,(c,D,Q)=>{if(c!=null){if(c.length===0&&Q===Tt.A.sources.USER){const[rt,mt]=this.quill.scroll.descendant(j,c.index);if(rt!=null){this.linkRange=new ie.Q(c.index-mt,rt.length());const Et=j.formats(rt.domNode);this.preview.textContent=Et,this.preview.setAttribute("href",Et),this.show();const Ht=this.quill.getBounds(this.linkRange);return void(Ht!=null&&this.position(Ht))}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}ft(ve,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class fe extends he{constructor(i,c){c.modules.toolbar!=null&&c.modules.toolbar.container==null&&(c.modules.toolbar.container=se),super(i,c),this.quill.container.classList.add("ql-snow")}extendToolbar(i){i.container!=null&&(i.container.classList.add("ql-snow"),this.buildButtons(i.container.querySelectorAll("button"),At),this.buildPickers(i.container.querySelectorAll("select"),At),this.tooltip=new ve(this.quill,this.options.bounds),i.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(c,D)=>{i.handlers.link.call(i,!D.format.link)}))}}fe.DEFAULTS=(0,zt.A)({},he.DEFAULTS,{modules:{toolbar:{handlers:{link($){if($){const i=this.quill.getSelection();if(i==null||i.length===0)return;let c=this.quill.getText(i);/^\S+@\S+\.\S+$/.test(c)&&c.indexOf("mailto:")!==0&&(c=`mailto:${c}`);const{tooltip:D}=this.quill.theme;D.edit("link",c)}else this.quill.format("link",!1,O.Ay.sources.USER)}}}}});var Ae=fe;G.default.register({"attributors/attribute/direction":e.Mc,"attributors/class/align":C.qh,"attributors/class/background":L.l,"attributors/class/color":_.g3,"attributors/class/direction":e.sY,"attributors/class/font":z.q,"attributors/class/size":Y.U,"attributors/style/align":C.Hu,"attributors/style/background":L.s,"attributors/style/color":_.JM,"attributors/style/direction":e.VL,"attributors/style/font":z.z,"attributors/style/size":Y.r},!0),G.default.register({"formats/align":C.qh,"formats/direction":e.sY,"formats/indent":S,"formats/background":L.s,"formats/color":_.JM,"formats/font":z.q,"formats/size":Y.U,"formats/blockquote":f,"formats/code-block":x.Ay,"formats/header":a,"formats/list":w,"formats/bold":p,"formats/code":x.Cy,"formats/italic":(ee=class extends p{},ft(ee,"blotName","italic"),ft(ee,"tagName",["EM","I"]),ee),"formats/link":j,"formats/script":Z,"formats/strike":(le=class extends p{},ft(le,"blotName","strike"),ft(le,"tagName",["S","STRIKE"]),le),"formats/underline":ot,"formats/formula":tt,"formats/image":y,"formats/video":s,"modules/syntax":F,"modules/table":dt,"modules/toolbar":xt,"themes/bubble":re,"themes/snow":Ae,"ui/icons":At,"ui/picker":Ct,"ui/icon-picker":kt,"ui/color-picker":Nt,"ui/tooltip":It},!0);var xe=G.default}(),We.default}()})})(ze,ze.exports);var tn=ze.exports;const en=Je(tn);try{window.Quill=en}catch{}
