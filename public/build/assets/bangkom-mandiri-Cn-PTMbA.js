$(document).ready(function(){$("#myTable").DataTable({processing:!0,serverSide:!0,paging:!1,ajax:{url:"/dev/corpu2/simapeka/public/bangkom_mandiri",type:"GET",dataType:"json"},columns:[{data:"id",render:function(c,a,t,d){return d.row+d.settings._iDisplayStart+1}},{data:"nama_diklat",name:"nama_diklat"},{data:"action",orderable:!1,searchable:!1}]});let e=0;function i(){e>=3?$(".diklat-checkbox").each(function(){$(this).is(":checked")||$(this).prop("disabled",!0)}):$(".diklat-checkbox").prop("disabled",!1)}$("#myTable").on("change",".diklat-checkbox",function(){let c=$(this).val(),a=$(this).is(":checked");if(a&&e>=3){alert("Hanya bisa Checklist 3 data!"),$(this).prop("checked",!1);return}a?e++:e--,i(),$.ajax({url:"/diklat_mandiri/store",method:"POST",data:{_token:"{{ csrf_token() }}",diklat_id:c,checked:a?1:0},success:function(t){console.log("Success:",t)},error:function(t){console.error("Error:",t)}})}),$("#myTable").on("draw.dt",function(){e=$(".diklat-checkbox:checked").length,i()}),i()});
