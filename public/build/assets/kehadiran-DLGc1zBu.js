document.querySelectorAll(".attendance-day button").forEach(t=>{t.addEventListener("click",function(){let n=this.closest("form"),r=n.querySelector('input[name="tanggal_hadir"]').value;fetch(n.action,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify({course_id:n.querySelector('input[name="course_id"]').value,nip:n.querySelector('input[name="nip"]').value,tanggal_hadir:r})}).then(e=>e.json()).then(e=>{e.success&&(t.classList.add("btn-success"),t.innerText="Present",t.disabled=!0)}).catch(e=>console.error("Error:",e))})});
