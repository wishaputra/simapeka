import{C as g,i as f,a as p}from"./index-BPFvZ82t.js";import{a as i}from"./axios-mH-cpkvd.js";document.addEventListener("DOMContentLoaded",function(){const v=document.getElementById("calendar"),r=document.getElementById("addEventSidebar"),u=document.querySelector(".btn-add-event"),m=document.getElementById("eventForm");function l(e){i.get("/dev/corpu2/simapeka/public/kalender/events").then(t=>{const a=t.data,d=new Date,E=new Date(d.getFullYear(),11,31),c=[];for(let n=new Date(d);n<=E;n.setDate(n.getDate()+1)){const s=n.getDay();(s===0||s===6)&&c.push({title:"Tanggal Merah",start:n.toISOString().split("T")[0],allDay:!0})}e.removeAllEvents(),e.addEventSource([...a,...c])}).catch(t=>{console.error("Error fetching events:",t)})}const o=new g(v,{plugins:[f,p],initialView:"dayGridMonth",editable:!0,selectable:!0,dateClick:function(e){document.getElementById("eventStartDate").value=e.dateStr,document.getElementById("eventEndDate").value=e.dateStr,new bootstrap.Offcanvas(r).show()}});l(o),o.render(),u.addEventListener("click",function(e){e.preventDefault();const t=document.getElementById("eventTitle").value,a=document.getElementById("eventStartDate").value;t&&a?i.post("/dev/corpu2/simapeka/public/kalender/events",{nama:t,tanggal:a}).then(()=>{l(o),m.reset(),new bootstrap.Offcanvas(r).hide()}).catch(d=>{console.error("Error adding event:",d)}):alert("Please fill in all fields!")})});
